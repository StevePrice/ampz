<?xml version="1.0" encoding="UTF-8"?>
<category>
<snippet author="fletcher" date_entered="2000-11-22" last_modified="2001-04-18 10:51:17" name="0 A Cool Recursive Links Script- path.php" rating="4.26">
<description>From the document URL and Path, this script creates progessively deeper links for a &quot;You Are Here&quot; navigation.&#x0D;&#x0A;Ex.  &lt;B&gt;You Are Here: &lt;/B&gt;&lt;a href=&quot;http://www.innercircle.org&quot;&gt;Home&lt;/a&gt; &amp;gt; &lt;a href=&quot;http://www.innercircle.org/members&quot;&gt;Members&lt;/a&gt; &amp;gt; &lt;a href=&quot;http://www.innercircle.org/members/list_members.php&quot;&gt;List Members&lt;/a&gt;</description>
<code>&lt;?&#x0D;&#x0A;##################################################&#x0D;&#x0A;##                                              ##&#x0D;&#x0A;##               path.php v1.3                  ##&#x0D;&#x0A;##&#x09;&#x09;Version for eTemplate for PHP&#x09;&#x09;&#x09;##&#x0D;&#x0A;##               Copyright 2000                 ##&#x0D;&#x0A;##                                              ##&#x0D;&#x0A;##       Jim Fletcher jim@websitecode.com       ##&#x0D;&#x0A;##                                              ##&#x0D;&#x0A;##  Free to distribute as long as this notice   ##&#x0D;&#x0A;##  remains. You cannot charge for this work or ##&#x0D;&#x0A;##  any derivatives thereof. No warranties on   ##&#x0D;&#x0A;##  this program are made or implied.           ##&#x0D;&#x0A;##                                              ##&#x0D;&#x0A;##################################################&#x0D;&#x0A;## Revisions:&#x0D;&#x0A;## 1.3 $ignore converted to array. Multiple ignores allowed.&#x0D;&#x0A;## 1.2 $urlbase autodetects.  Ignore page change to &quot;Home&quot;&#x0D;&#x0A;##     for compatibility with eTemplate for PHP script.&#x0D;&#x0A;## 1.1 Doesn&apos;t print link to index page&#x0D;&#x0A;#&#x0D;&#x0A;## You may make any modifications to this script##&#x0D;&#x0A;## to best fit your needs, but if you find some-##&#x0D;&#x0A;## thing wrong, let me know at                  ##&#x0D;&#x0A;##            jim@websitecode.com               ##&#x0D;&#x0A;##################################################&#x0D;&#x0A;#&#x0D;&#x0A;# To run this script you will need PHP enabled on &#x0D;&#x0A;# your server, and the PHP call:&#x0D;&#x0A;#    include(&quot;/path-to-this-script/path.php&quot;);&#x0D;&#x0A;# inserted within the PHP pages you want it to run on.&#x0D;&#x0A;#&#x0D;&#x0A;# NOTE: the &quot;/path-to-this-script/&quot; listed above&#x0D;&#x0A;# means change it to the location on YOUR&#x0D;&#x0A;# webserver or delete it if the path.php is in the&#x0D;&#x0A;# same directory as the calling page.&#x0D;&#x0A;#&#x0D;&#x0A;####################################&#x0D;&#x0A;#          USER VARIABLES          #&#x0D;&#x0A;####################################&#x0D;&#x0A;#What is the path that is going to be parsed? You may pass comment this out and pass the $originalpath as a variable from the calling page, but in testing the $PHP_SELF variable came from the original calling page, not the path.php page.&#x0D;&#x0A;$originalpath = $PHP_SELF;&#x0D;&#x0A;&#x0D;&#x0A;#What is the Base URL? (usually the domain name)&#x0D;&#x0A;$urlbase = &quot;http://&quot;.$HTTP_HOST;&#x0D;&#x0A;#$urlbase = &quot;http://www.itprofessional.org&quot;; # Uncomment if the above line isn&apos;t working for you.&#x0D;&#x0A;&#x0D;&#x0A;# What Link Text Do You Want To Appear for the link to the base URL?&#x0D;&#x0A;$roottitle = &quot;Home&quot;;&#x0D;&#x0A;&#x0D;&#x0A;# In Your Output, What Symbol and Spacing Do You Want Between the Links? examples are | / :&#x0D;&#x0A;$seperator = &quot; &gt; &quot;;&#x0D;&#x0A;&#x0D;&#x0A;# What file do you want to not print a link to? (drop the .php suffix &amp; capitalize the filename)&#x0D;&#x0A;$ignore = array(&quot;Index&quot;,&quot;Home&quot;);&#x0D;&#x0A;&#x0D;&#x0A;#######################################&#x0D;&#x0A;# Do not modify beneath this point unless you know what you&apos;re doing!&#x0D;&#x0A;&#x0D;&#x0A;function check_ignore($ignore,$referer){&#x0D;&#x0A;  if (count($ignore)){&#x0D;&#x0A;    global $errors;&#x0D;&#x0A;    $found = true;&#x0D;&#x0A;    #$referer = $path[$number];&#x0D;&#x0A;    for ($x=0; $x &lt; count($ignore); $x++){&#x0D;&#x0A;      if ($ignore[$x] == $referer){&#x0D;&#x0A;        $found = false;&#x0D;&#x0A;      }&#x0D;&#x0A;    }&#x0D;&#x0A;    return $found;&#x0D;&#x0A;  } else {&#x0D;&#x0A;    return true; //Not a good idea, if empty, it will allow it.&#x0D;&#x0A;  }&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;#Splits the path into an array using a forward slash&#x0D;&#x0A;$path = explode (&quot;/&quot;, $originalpath);&#x0D;&#x0A;#Counts How many elements are in the array so the loop below knows how long to loop&#x0D;&#x0A;$totalelements = count ($path);&#x0D;&#x0A;# Print out the Link to the Homepage&#x0D;&#x0A;printf(&quot;&lt;a href=\&quot;%s\&quot;&gt;%s&lt;/a&gt;&quot;, $urlbase, $roottitle);&#x0D;&#x0A;# Loops thru the array printing out the link to the respective directory or file&#x0D;&#x0A;&#x09;for($number=1; $number&lt;$totalelements ; $number++) {&#x0D;&#x0A;&#x09;&#x09;#Appends the next directory or file down to the URL&#x0D;&#x0A;&#x09;&#x09;$urlbase = $urlbase . &quot;/&quot; . $path[$number];&#x0D;&#x0A;&#x09;&#x09;# Do Some Formatting on the Link Text&#x0D;&#x0A;&#x09;&#x09;&#x09;#Replace Triple Underscore with Ampersand Surrounded By Underscores to be later converted to spaces&#x0D;&#x0A;&#x09;&#x09;&#x09;$path[$number] = str_replace(&quot;___&quot;, &quot;_&amp;_&quot;, $path[$number]);&#x0D;&#x0A;&#x09;&#x09;&#x09;#Replace Underscore with Space&#x0D;&#x0A;&#x09;&#x09;&#x09;$path[$number] = str_replace(&quot;_&quot;, &quot; &quot;, $path[$number]);&#x0D;&#x0A;&#x09;&#x09;&#x09;#Replace Tilde with Question Mark&#x0D;&#x0A;&#x09;&#x09;&#x09;$path[$number] = str_replace(&quot;~&quot;, &quot;?&quot;, $path[$number]);&#x0D;&#x0A;&#x09;&#x09;&#x09;#Erase .php file extension&#x0D;&#x0A;&#x09;&#x09;&#x09;$path[$number] = str_replace(&quot;.php&quot;, &quot;&quot;, $path[$number]);&#x0D;&#x0A;&#x09;&#x09;&#x09;#Capitalize All Words&#x0D;&#x0A;&#x09;&#x09;&#x09;$path[$number] = ucwords($path[$number]);&#x0D;&#x0A;&#x09;&#x09;# Print Out The URL With The Formatted Link Text&#x0D;&#x0A;&#x09;&#x09;if(check_ignore($ignore,$path[$number])){&#x0D;&#x0A;&#x09;&#x09;printf(&quot;%s&lt;a href=\&quot;%s\&quot;&gt;%s&lt;/a&gt;&quot;, $seperator, $urlbase, $path[$number]);&#x0D;&#x0A;&#x09;&#x09;}&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;?&gt;</code>
</snippet>
<snippet author="reywob" date_entered="2001-01-07" last_modified="2001-10-08 14:41:01" name="Breadcrumbs navigation" rating="3.50">
<description>This code will produce a useful navigation resource, showing visitors where they are in your site.&#x0D;&#x0A;&#x0D;&#x0A;Version 1.01&#x0D;&#x0A;Fixed bug which printed wrong URL for more than one directory deep paths.&#x0D;&#x0A;&#x0D;&#x0A;Version 1.02&#x0D;&#x0A;Removed some legacy code from the original implementation at users.f2s.com</description>
<code>&lt;?php&#x0D;&#x0A;/*&#x0D;&#x0A; * Breadcrumbs, version 1.02&#x0D;&#x0A; * This code is copyright (c) Peter Bowyer, and is released &#x0D;&#x0A; * under the lesser general public license (LGPL). Please leave this &#x0D;&#x0A; * notice intact!&#x0D;&#x0A; * This code was originally written for the F2S unofficial &#x0D;&#x0A; * support site &lt;http://www.users.f2s.com&gt;&#x0D;&#x0A; * &#x0D;&#x0A; * If you modify the code, please let me know.  I am always&#x0D;&#x0A; * after improvements! Contact me at &lt;peter@mapledesign.co.uk&gt;&#x0D;&#x0A; * &#x0D;&#x0A; */&#x0D;&#x0A;&#x0D;&#x0A;// If your server doesn&apos;t support $HTTP_HOST variable, uncomment the lower&#x0D;&#x0A;// variable, and enter your site name.  Do not remove the trailing slash!&#x0D;&#x0A;$site = &quot;http://&quot;.$HTTP_HOST.&quot;/&quot;;&#x0D;&#x0A;// $site = &quot;http://www.yoursite.com/&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;//  If you are on a windows machine you may have to alter this line.&#x0D;&#x0A;$str = $PHP_SELF;&#x0D;&#x0A;&#x0D;&#x0A;ereg(&quot;^(.+)/.+\\..+$&quot;, $str, $part);&#x0D;&#x0A;$str = $part[1];&#x0D;&#x0A;$str = substr($str, 1);&#x0D;&#x0A;&#x0D;&#x0A;// Define the names you want given to each of the directories&#x0D;&#x0A;// e.g. directory test has the label Test which will be visible&#x0D;&#x0A;$label =  array(&quot;test&quot;=&gt;&quot;Test&quot;,&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&quot;faq&quot;=&gt;&quot;FAQ/Tutorials&quot;,&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&quot;phorum&quot;=&gt;&quot;Forums&quot;,&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&quot;links&quot;=&gt;&quot;Links&quot;,&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&quot;asp2php&quot;=&gt;&quot;ASP2PHP&quot;,&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&quot;whatsnew&quot;=&gt;&quot;What&apos;s New&quot;,&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&quot;us&quot;=&gt;&quot;Useful Stuff&quot;);&#x0D;&#x0A;&#x0D;&#x0A;if (ereg(&quot;/&quot;, $str)){&#x0D;&#x0A;$arr = split(&quot;/&quot;, $str);&#x0D;&#x0A;$num = count($arr);&#x0D;&#x0A;&#x09;for($i=0; $i &lt; $num; ++$i){&#x0D;&#x0A;&#x09;echo(&quot; &gt; &lt;a href=\&quot;&quot;. $site . $arr[$i] .&quot;/\&quot;&gt;&quot;.$label[$arr[$i]].&quot;&lt;/a&gt;&quot;);&#x0D;&#x0A;&#x09;$site = $site . $arr[$i] .&quot;/&quot;;&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;}elseif (ereg(&quot;[a-zA-Z_]{1,}$&quot;,$str)){&#x0D;&#x0A;$arr = $str;&#x0D;&#x0A;echo(&quot; &gt; &lt;a href=\&quot;http://&quot;.$HTTP_HOST.&quot;/&quot;.$arr.&quot;/\&quot;&gt;&quot;.$label[$arr].&quot;&lt;/a&gt;&quot;);&#x0D;&#x0A;}else{&#x0D;&#x0A;echo(&quot;&quot;);&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;?&gt;</code>
</snippet>
<snippet author="blueshoes" date_entered="2002-12-21" last_modified="2002-12-26 21:05:47" name="Bs_HtmlNavigation (Navigation and Sitemap class)" rating="4.00">
<description>Only 3 steps are needed to have your fully customized dynamic navigation or sitemap:&#x0D;&#x0A;  1. give the navigation data (PHP array or XML file, &#x0D;&#x0A;  2. specify the styles, &#x0D;&#x0A;  3. specify the current page the user is looking at</description>
<code></code>
</snippet>
<snippet author="RLYNCH" date_entered="2000-02-22" last_modified="2000-08-29 16:15:06" name="Cascading Menu" rating="3.65">
<description>A very stripped-down sample of a cascading menu.</description>
<code>&lt;HTML&gt;&lt;BODY BGCOLOR=FFFFFF&gt;&#x0D;&#x0A;&lt;FORM ACTION=hierarchy.php METHOD=POST&gt;&#x0D;&#x0A;&lt;?php&#x0D;&#x0A;&#x09;//A very stripped-down sample of how to construct a cascading menu...&#x0D;&#x0A;  if (isset($hierarchy)){&#x0D;&#x0A;  &#x09;//$hierarchy[] = $selection;&#x0D;&#x0A;  &#x09;if (isset($hierarchy)){&#x0D;&#x0A;&#x09;    while(list($level, $sel) = each($hierarchy)){&#x0D;&#x0A;  &#x09;    echo &quot;&lt;INPUT TYPE=HIDDEN NAME=hierarchy[$level] VALUE=$sel&gt;&quot;;&#x0D;&#x0A;    &#x09;  echo $level, &apos;: &apos;, $sel, &quot;&lt;BR&gt;\n&quot;;&#x0D;&#x0A;    &#x09;  $nextlevel = (int) $level + 1;&#x0D;&#x0A;    &#x09;}&#x0D;&#x0A;    }&#x0D;&#x0A;  }&#x0D;&#x0A;  else{&#x0D;&#x0A;  &#x09;$nextlevel = 0;&#x0D;&#x0A;  }&#x0D;&#x0A;  echo &quot;&lt;SELECT NAME=hierarchy[&quot;, $nextlevel, &quot;]&gt;\n&quot;;&#x0D;&#x0A;  for ($i = 1; $i &lt;= 10; $i++){&#x0D;&#x0A;    echo &quot;&lt;OPTION VALUE=$i&gt;$i&lt;/OPTION&gt;\n&quot;;&#x0D;&#x0A;  }&#x0D;&#x0A;  echo &quot;&lt;/SELECT&gt;\n&quot;;&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&lt;INPUT TYPE=SUBMIT&gt;&#x0D;&#x0A;&lt;/FORM&gt;&#x0D;&#x0A;&lt;/BODY&gt;&lt;/HTML&gt;</code>
</snippet>
<snippet author="Dx2" date_entered="2000-11-12" last_modified="2001-01-28 19:08:21" name="Dynamic selfdepending dropdown menus" rating="4.50">
<description>The represented code is an example of how to get external data from database using PHP and pass it to javascript, controlling 3 levels self-depending dropdown menus. The given example was developped with Oracle, to display  tree-like 3-levels product categories.</description>
<code>&lt;?&#x0D;&#x0A;// make conection and retrieve data from oracle db or any external db to collect info for the tree-like data&#x0D;&#x0A;$conn = ocilogon(&quot;db_user&quot;,&quot;pass&quot;,&quot;oracle_sid&quot;);&#x0D;&#x0A;$sql = &quot;select NAME, ID, OWNER_ID from TABLE_NAME&quot;;&#x0D;&#x0A;$stmt = ociparse($conn,$sql);&#x0D;&#x0A;ociexecute($stmt); $x=0;&#x0D;&#x0A;while (OCIFetchInto($stmt,$data,OCI_ASSOC)) { $parse_data[$x][1] = $data[&quot;ID&quot;]; $parse_data[$x][2] = $data[&quot;OWNER_ID&quot;]; $parse_data[$x][3] = $data[&quot;NAME&quot;]; $x++; }&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&lt;html&gt;&#x0D;&#x0A;&lt;head&gt;&#x0D;&#x0A;&lt;title&gt;Untiltled&lt;/title&gt;&#x0D;&#x0A;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=windows-1251&quot;&gt;&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;&lt;script language=&quot;JavaScript&quot;&gt;&#x0D;&#x0A;&lt;!--hide this script from non-javascript-enabled browsers&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;// Combining retrived data into variable $report (placing separator &quot;|&quot; between each element)&#x0D;&#x0A;&lt;? &#x0D;&#x0A;for ($i=0; $i&lt;count($parse_data); $i++) { $report.=$parse_data[$i][1].&quot;|&quot;.$parse_data[$i][2].&quot;|&quot;.$parse_data[$i][3].&quot;|&quot;; }&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&#x0D;&#x0A;var boxes_id=new Array(); var boxes_owner=new Array(); var boxes_name=new Array();&#x0D;&#x0A;// PRINTING THE $report var INTO THE HTML/JAVASCRIPT VAR&#x0D;&#x0A;&#x09;var data = &quot;&lt;? print $report?&gt;&quot;; &#x0D;&#x0A;&#x09;var cnt = &quot;&lt;? print count($parse_data) ?&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;//SPLIT DATA INTO ARRAY&#x0D;&#x0A;&#x09;var datasplit=data.split(&quot;|&quot;);&#x0D;&#x0A;&#x0D;&#x0A;//REDISTRIBUTING AGAIN THE COLLECTED DATA FROM THE DB, INTO 3 DIFFERENT ARRAY CORRESPONDING TO THE FIELDS&#x0D;&#x0A;for (var q=0; q&lt;(cnt*3); q+=3) {&#x0D;&#x0A;boxes_id[q] = datasplit[q]; boxes_owner[q] = datasplit[q+1]; boxes_name[q] = datasplit[q+2];&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;/* The following functions are self-related - each one calls the next one, to implement the dynamic dropdown updates.&#x0D;&#x0A;*/&#x0D;&#x0A;&#x0D;&#x0A;// This is the function called on page OnLoad - responsible for the first dropdown (frm.combo1)&#x0D;&#x0A;function Go1() {&#x0D;&#x0A;&#x09;var r=0; var plc=0;&#x09;var b1=0;&#x0D;&#x0A;&#x09;for (r=0; r&lt;=(cnt*3); r++) {&#x0D;&#x0A;&#x09;if (boxes_owner[r] == 1) { newOptionName = new Option(boxes_name[r], boxes_name[r]);&#x0D;&#x0A;&#x09;&#x09;self.frm.combo1.options[b1] = newOptionName; b1++; }}&#x0D;&#x0A;&#x09;Go2();&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// Called from Go1 - responsible for the second dropdown (frm.combo2)&#x0D;&#x0A;function Go2() {&#x0D;&#x0A;&#x09;var r=0; var plc=0; var b2=0; var sel = 0;&#x0D;&#x0A;&#x09;&#x09;for (i=(self.frm.combo2.options.length); i&gt;0; i--) {frm.combo2.options[i]=null;}&#x0D;&#x0A;&#x0D;&#x0A;&#x09;var str2 = self.frm.combo1.options[self.frm.combo1.selectedIndex].text;&#x0D;&#x0A;&#x09;for (r=0; r&lt;=(cnt*3);r++) { if (boxes_name[r] == str2) { sel = boxes_id[r]; }}&#x0D;&#x0A;&#x0D;&#x0A;&#x09;for (r=0; r&lt;=(cnt*3); r++) {&#x0D;&#x0A;&#x09;&#x09;if (boxes_owner[r] == sel) { newOptionName = new Option(boxes_name[r],boxes_name[r]);&#x0D;&#x0A;&#x09;&#x09;&#x09;self.frm.combo2.options[b2] = newOptionName; b2++; }}&#x0D;&#x0A;&#x09;&#x09;&#x09;self.frm.combo2.options[0].selected = true;&#x0D;&#x0A;&#x09;Go3();&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;// Called from Go2 - responsible for the third dropdown (frm.combo3)&#x0D;&#x0A;function Go3() {&#x0D;&#x0A;&#x09;var r=0; var plc=0; var b3=1; var sel = 0;&#x0D;&#x0A;&#x09;&#x09;for (i=(self.frm.combo3.options.length); i&gt;0; i--) {frm.combo3.options[i]=null;}&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;var str3 = self.frm.combo2.options[frm.combo2.selectedIndex].text;&#x0D;&#x0A;&#x09;for (r=0; r&lt;=(cnt*3); r++) { if (boxes_name[r] == str3) { sel = boxes_id[r]; }}&#x0D;&#x0A;&#x0D;&#x0A;&#x09;newOptionName = new Option(&quot; . . .&quot;,&quot;&quot;); self.frm.combo3.options[0] = newOptionName;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;for (r=0; r&lt;=(cnt*3); r++) {&#x0D;&#x0A;&#x09;&#x09;if (boxes_owner[r] == sel) { newOptionName = new Option(boxes_name[r],boxes_name[r]);&#x0D;&#x0A;&#x09;&#x09;&#x09;self.frm.combo3.options[b3] = newOptionName; b3++; }}&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;self.frm.combo3.options[0].selected = true;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;//GetFunnky calls the new URL and may parse further parameters to it&#x0D;&#x0A;function GetFunky() {&#x0D;&#x0A;window.location.href=&quot;http://new.url.com/external_file.php?id=&quot;;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;//--&gt;&#x0D;&#x0A;&lt;/script&gt;&#x0D;&#x0A;&#x0D;&#x0A;&lt;/HEAD&gt;&#x0D;&#x0A;&#x0D;&#x0A;... see example for form details.</code>
</snippet>
<snippet author="massimilianowosz" date_entered="2006-11-14" last_modified="2006-12-07 23:49:30" name="DynMenu 0.1" rating="0.00">
<description>Class for building outlook-like dynamic menus.</description>
<code>&lt;?&#x0D;&#x0A;&#x09;class dynmenu&#x0D;&#x0A;&#x09;{&#x0D;&#x0A;&#x09;&#x09;var $menu = array();&#x09;&#x09;&#x09;//Array contentente i titoli delle voci di menu&#x0D;&#x0A;&#x09;&#x09;var $text = array();&#x09;&#x09;&#x09;//Array contentente i testi dei contenuti&#x0D;&#x0A;&#x09;&#x09;var $action = array();&#x09;&#x09;&#x09;//Array contentente le azioni javacript custom per ogni voce &#x0D;&#x0A;&#x09;&#x09;var $speed;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;//Velocita di apertura&#x0D;&#x0A;&#x09;&#x09;var $opened;&#x09;&#x09;&#x09;&#x09;&#x09;//Voce di menu da aprire subito dopo la creazione&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;function dynmenu($opened=0, $speed=1)&#x0D;&#x0A;&#x09;&#x09;{&#x0D;&#x0A;&#x09;&#x09;&#x09;$this-&gt;opened = $opened;&#x0D;&#x0A;&#x09;&#x09;&#x09;$this-&gt;speed = $speed;&#x0D;&#x0A;&#x09;&#x09;}&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;function add_item($title,$text,$action=&quot;&quot;)&#x0D;&#x0A;&#x09;&#x09;{&#x0D;&#x0A;&#x09;&#x09;&#x09;array_push($this-&gt;menu,$title);&#x0D;&#x0A;&#x09;&#x09;&#x09;array_push($this-&gt;text,$text);&#x0D;&#x0A;&#x09;&#x09;&#x09;array_push($this-&gt;action,$action);&#x0D;&#x0A;&#x09;&#x09;}&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;&#x09;function create()&#x0D;&#x0A;&#x09;&#x09;{&#x0D;&#x0A;&#x09;&#x09;&#x09;$i = 1;&#x0D;&#x0A;&#x09;&#x09;&#x09;foreach ($this-&gt;menu as $menu) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;$contenuto = $this-&gt;text[$i-1];&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;$azione = $this-&gt;action[$i-1];&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;echo &quot;&lt;div class=\&quot;menu\&quot; id=\&quot;menu_$i\&quot; onClick=\&quot;open_menu(this);$azione\&quot; onMouseOver=\&quot;this.style.cursor=&apos;pointer&apos;\&quot;&gt;$menu&lt;/div&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;echo &quot;&lt;div class=\&quot;contenuto\&quot; id=\&quot;contenuto_$i\&quot; style=\&quot;height:0px;\&quot;&gt;$contenuto&lt;/div&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;$i++;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;&#x09;}&#x0D;&#x0A;&#x09;&#x09;&#x09;if($this-&gt;opened)&#x0D;&#x0A;&#x09;&#x09;&#x09;{&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;$azione = $this-&gt;action[$this-&gt;opened-1];&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;echo &quot;&lt;script&gt;\nvar to_open = document.getElementById(\&quot;menu_&quot;.$this-&gt;opened.&quot;\&quot;);open_menu(to_open);$azione&lt;/script&gt;\n&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;}&#x0D;&#x0A;&#x09;&#x09;}&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;function print_scripts()&#x0D;&#x0A;&#x09;&#x09;{&#x0D;&#x0A;&#x09;&#x09;&#x09;echo &quot;&lt;script language=\&quot;JavaScript\&quot; type=\&quot;text/javascript\&quot; src=\&quot;js/dynmenu.js\&quot;&gt;&lt;/script&gt;\n&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;echo &quot;&lt;script&gt;\nvar speed = &quot;.$this-&gt;speed.&quot;;&lt;/script&gt;\n&quot;;&#x0D;&#x0A;&#x09;&#x09;}&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;function print_styles()&#x0D;&#x0A;&#x09;&#x09;{&#x0D;&#x0A;&#x09;&#x09;&#x09;echo &quot;&lt;link href=\&quot;css/dynmenu.css\&quot; rel=\&quot;stylesheet\&quot; type=\&quot;text/css\&quot; /&gt;\n&quot;;&#x0D;&#x0A;&#x09;&#x09;}&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&lt;?&#x0D;&#x0A;&#x09;&#x09;$menu = new dynmenu(1,2.5);&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;for ($i=1;$i&lt;5;$i++)&#x0D;&#x0A;&#x09;&#x09;&#x09;$contenuto.=&quot;&lt;a href=&apos;#&apos; style=&apos;display:block&apos;&gt;Test link $i&lt;/a&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;$menu-&gt;add_item(&quot;Menu Item 1&quot;,&quot;Content 1&quot;);&#x0D;&#x0A;&#x09;&#x09;$menu-&gt;add_item(&quot;Menu Item 2&quot;,&quot;Content 2&quot;,&quot;alert(&apos;Test click action 2&apos;);&quot;);&#x0D;&#x0A;&#x09;&#x09;$menu-&gt;add_item(&quot;Menu Item 3&quot;,&quot;$contenuto&quot;);&#x0D;&#x0A;&#x09;&#x09;$menu-&gt;add_item(&quot;Menu Item 4&quot;,&quot;Content 4&quot;);&#x0D;&#x0A;&#x09;&#x09;$menu-&gt;add_item(&quot;Menu Item 5&quot;,&quot;Content 5&quot;);&#x0D;&#x0A;&#x09;&#x09;$menu-&gt;add_item(&quot;Menu Item 6&quot;,&quot;Content 6&quot;);&#x0D;&#x0A;&#x09;?&gt;&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&#x0D;&#x0A;&quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;&#x0D;&#x0A;&lt;html&gt;&#x0D;&#x0A;&lt;head&gt;&#x0D;&#x0A;&lt;title&gt;Dynamic Menu Sample&lt;/title&gt;&#x0D;&#x0A;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-1&quot;&gt;&#x0D;&#x0A;&lt;style&gt;&#x0D;&#x0A;body{&#x0D;&#x0A;&#x09;font-family:tahoma;&#x0D;&#x0A;&#x09;font-size:12px;&#x0D;&#x0A;}&#x0D;&#x0A;.menu {&#x0D;&#x0A;&#x09;padding:6px;&#x0D;&#x0A;&#x09;background-color: #F4F7F5;&#x0D;&#x0A;&#x09;width: 238px;&#x0D;&#x0A;&#x09;height:18px;&#x0D;&#x0A;&#x09;margin-bottom: 1px;&#x0D;&#x0A;&#x09;border: 1px solid #E2E2E2;&#x0D;&#x0A;&#x09;background-image:url(../images/button.jpg);&#x0D;&#x0A;}&#x0D;&#x0A;.contenuto {&#x0D;&#x0A;&#x09;padding-left:6px;&#x0D;&#x0A;&#x09;padding-right:6px;&#x0D;&#x0A;&#x09;width: 238px;&#x0D;&#x0A;&#x09;margin-bottom: 1px;&#x0D;&#x0A;&#x09;border: 1px solid #E2E2E2;&#x0D;&#x0A;&#x09;display:none;&#x0D;&#x0A;&#x09;overflow:hidden;&#x0D;&#x0A;}&#x09;&#x0D;&#x0A;&lt;/style&gt;&#x0D;&#x0A;&lt;script&gt;&#x0D;&#x0A;var opened = 1;&#x0D;&#x0A;var height = 300;&#x0D;&#x0A;var opening = 0;&#x0D;&#x0A;&#x0D;&#x0A;function open_menu(menu)&#x0D;&#x0A;{&#x0D;&#x0A;&#x09;if(!opening)&#x0D;&#x0A;&#x09;{&#x0D;&#x0A;&#x09;&#x09;id_menu = menu.id;&#x0D;&#x0A;&#x09;&#x09;menu_array = id_menu.split(&quot;_&quot;);&#x0D;&#x0A;&#x09;&#x09;menu_num = menu_array[1];&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;menu  = document.getElementById(&quot;menu_&quot;+opened);&#x0D;&#x0A;&#x09;&#x09;menu.style.backgroundImage = &quot;url(&apos;images/button.jpg&apos;)&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;menu  = document.getElementById(&quot;menu_&quot;+menu_num);&#x0D;&#x0A;&#x09;&#x09;menu.style.backgroundImage = &quot;url(&apos;images/active.jpg&apos;)&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;opening = 1;&#x0D;&#x0A;&#x09;&#x09;window.setTimeout(&quot;chiudi(menu_num)&quot;, 10);&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;function getElementsByClass(searchClass) {&#x0D;&#x0A;&#x09;var classElements = new Array();&#x0D;&#x0A;&#x09;tag = &apos;div&apos;;&#x0D;&#x0A;&#x09;var els = document.getElementsByTagName(tag);&#x0D;&#x0A;&#x09;var elsLen = els.length;&#x0D;&#x0A;&#x09;var pattern = new RegExp(&quot;(^|\\s)&quot;+searchClass+&quot;(\\s|$)&quot;);&#x0D;&#x0A;&#x09;for (i = 0, j = 0; i &lt; elsLen; i++) {&#x0D;&#x0A;&#x09;&#x09;if ( pattern.test(els[i].className) ) {&#x0D;&#x0A;&#x09;&#x09;&#x09;classElements[j] = els[i];&#x0D;&#x0A;&#x09;&#x09;&#x09;j++;&#x0D;&#x0A;&#x09;&#x09;}&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;&#x09;return classElements;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;function chiudi(menu_num)&#x0D;&#x0A;{&#x0D;&#x0A;&#x09;contenuto = document.getElementById(&quot;contenuto_&quot;+opened);&#x0D;&#x0A;&#x09;altezza = contenuto.style.height;&#x0D;&#x0A;&#x09;altezza = parseFloat(altezza);&#x0D;&#x0A;&#x0D;&#x0A;&#x09;if(altezza&lt;40)&#x0D;&#x0A;&#x09;&#x09;altezza = altezza-(2*speed);&#x0D;&#x0A;&#x09;else if(altezza&lt;200)&#x0D;&#x0A;&#x09;&#x09;altezza = altezza-(10*speed);&#x0D;&#x0A;&#x09;else&#x0D;&#x0A;&#x09;&#x09;altezza = altezza-(20*speed);&#x0D;&#x0A;&#x0D;&#x0A;&#x09;if(altezza&lt;0)altezza = 0;&#x0D;&#x0A;&#x09;contenuto.style.height = altezza + &quot;px&quot;;&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;if(altezza &gt; 0)&#x0D;&#x0A;&#x09;&#x09;window.setTimeout(&quot;chiudi(menu_num)&quot;, 10);&#x0D;&#x0A;&#x09;else&#x0D;&#x0A;&#x09;{&#x0D;&#x0A;&#x09;&#x09;contenuto.style.display = &apos;none&apos;;&#x0D;&#x0A;&#x09;&#x09;window.setTimeout(&quot;apri(menu_num)&quot;, 300);&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;}&#x0D;&#x0A;function apri(menu_num)&#x0D;&#x0A;{&#x0D;&#x0A;&#x09;contenuto = document.getElementById(&quot;contenuto_&quot;+menu_num);&#x0D;&#x0A;&#x09;altezza = contenuto.style.height;&#x0D;&#x0A;&#x09;altezza = parseFloat(altezza);&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;if(altezza&gt;height-40)&#x0D;&#x0A;&#x09;&#x09;altezza = altezza+(2*speed);&#x0D;&#x0A;&#x09;else if(altezza&gt;height-200)&#x0D;&#x0A;&#x09;&#x09;altezza = altezza+(10*speed);&#x0D;&#x0A;&#x09;else&#x0D;&#x0A;&#x09;&#x09;altezza = altezza+(20*speed);&#x0D;&#x0A;&#x09;contenuto.style.display = &apos;block&apos;;&#x0D;&#x0A;&#x09;contenuto.style.height = altezza + &quot;px&quot;;&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;if(altezza &lt;= height)&#x0D;&#x0A;&#x09;&#x09;window.setTimeout(&quot;apri(menu_num)&quot;, 10);&#x0D;&#x0A;&#x09;else&#x0D;&#x0A;&#x09;{&#x0D;&#x0A;&#x09;&#x09;opening = 0;&#x0D;&#x0A;&#x09;&#x09;opened = menu_num;&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;}&#x0D;&#x0A;&lt;/script&gt;&#x0D;&#x0A;&lt;?&#x0D;&#x0A;&#x09;$menu-&gt;print_styles();&#x0D;&#x0A;&#x09;$menu-&gt;print_scripts();&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&lt;/head&gt;&#x0D;&#x0A;&lt;body&gt;&#x0D;&#x0A;&lt;div style=&apos;float:left&apos;&gt;&#x0D;&#x0A;&lt;?&#x09;&#x0D;&#x0A;&#x09;$menu-&gt;create();&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&lt;/div&gt;&#x0D;&#x0A;&lt;/body&gt;&#x0D;&#x0A;&lt;/html&gt;</code>
</snippet>
<snippet author="resjr" date_entered="2001-03-04" last_modified="2002-01-26 07:41:28" name="Fully Functional Cascading Menu" rating="4.25">
<description>I have finally gotten around to cleaning up this script and making it work for more levels. This cascading menu is straight-forward and simple. It does require a little fore-thought as to how you want to layout your menu, but other than that, it is straight forward! </description>
<code>&lt;html&gt;&#x0D;&#x0A;&lt;HEAD&gt;&#x0D;&#x0A;&lt;TITLE&gt;Cascading Menu&lt;/TITLE&gt;&#x0D;&#x0A;&lt;style type=&quot;text/css&quot;&gt;&#x0D;&#x0A; &lt;!--&#x0D;&#x0A;&#x0D;&#x0A;BODY, INPUT, TH, TD, TABLE, P, DIV {&#x0D;&#x0A;font=family:&quot;Verdana&quot;, sans-serif;&#x0D;&#x0A;}&#x0D;&#x0A;--&gt;&#x0D;&#x0A;&lt;/style&gt;&#x0D;&#x0A;&lt;h4&gt;&lt;basefont size=2&gt; &lt;/HEAD&gt; &lt;BODY BGCOLOR=&quot;WHITE&quot; text=&quot;#000000&quot;&gt;&lt;?&#x0D;&#x0A;// By: Ralph Smith, Ralph.Smith.1@excite.com&#x0D;&#x0A;// Created 3/3/01 - Please inlcude this reference if you use this code or modify it.&#x0D;&#x0A;// I would also like copies of any adaptations or derivaties of this code that others might come up with!&#x0D;&#x0A;//&#x0D;&#x0A;// &quot;I can do all things through Christ which strengthenth me!&quot; - Phillippians 4:13&#x0D;&#x0A;// &#x0D;&#x0A;// You will also need the 10 images associated with this code. &#x0D;&#x0A;// They are located at http://housing-works.com/projects/cascademenu/menu_images.php. Save them in a &#x0D;&#x0A;// directory just below the location of you menu.php file.&#x0D;&#x0A;//&#x0D;&#x0A;// node construction notes:&#x0D;&#x0A;// $node_info should look like this:&#x0D;&#x0A;// $node_info = &quot;node_label, node_type, node_status, node_link, node_target, node_level, node_parent, node_child&quot;&#x0D;&#x0A;// $node_label &#x09;- what word(s) should appear beside the file icon&#x0D;&#x0A;// $node_type &#x09;- the first node is the starter node and has not type&#x0D;&#x0A;//&#x09;- b : branching (Appears with a plus or minus depending on the state of the node&#x0D;&#x0A;//&#x09;- bl: branching L (Places at the end of a tree on any level other than 1, has the same features as branch&#x0D;&#x0A;//&#x09;- j  : junction (Like a branch but with out the plus or minus)&#x0D;&#x0A;//&#x09;- t : terminal node (The final node of the menu, does not branch) * this maybe changed in the future&#x0D;&#x0A;//&#x09;$node_status&#x09;- 0 : open , 1 : closed (initially set to close unless you have a need for a particular folder to be open at loading&#x0D;&#x0A;// &#x09;$node_link&#x09;&#x09;- where the label will link to&#x0D;&#x0A;//&#x09;$node_target&#x09;- the target of the link, nothing in this area points the link at the current window&#x0D;&#x0A;//&#x09;$node_level&#x09;&#x09;- 1, 2, 3 - more levels can be added by adding arguments to the main for loop&#x0D;&#x0A;//&#x09;$node_parent&#x09;- p : yes, the node is a parent; n : no, the node is not a parent&#x0D;&#x0A;//&#x09;$node_child&#x09;- the index number of the nodes parent, or n - if the node is not a child&#x0D;&#x0A;&#x0D;&#x0A;$filename = &quot;menu3b.php&quot;;&#x0D;&#x0A;&#x0D;&#x0A;$node_info [0] &#x09;= &quot;Images, , , , , n, n, n&quot;;&#x0D;&#x0A;$node_info [1] &#x09;= &quot;Door Decs, j, 1, pictures.php, _new, 1, n, n&quot;;&#x0D;&#x0A;$node_info [2] &#x09;= &quot;Bulletin Boards, j, 1, bb.php, , 1, n, n&quot;;&#x0D;&#x0A;$node_info [3] &#x09;= &quot;Halls, b, 1, , , 1, p, n &quot;;&#x0D;&#x0A;$node_info [4] &#x09;= &quot;Miscellaneous, t, 1, http://www.dice.com, _new, 1, n, n&quot;;&#x0D;&#x0A;$node_info [5] &#x09;= &quot;Apartments, b, 1, , , 2, p, 3&quot;;&#x0D;&#x0A;$node_info [6] &#x09;= &quot;N. Carrick, b, 1, , , 2, p, 3&quot;;&#x0D;&#x0A;$node_info [7] &#x09;= &quot;S. Carrick, b, 1, , , 2, p, 3&quot;;&#x0D;&#x0A;$node_info [8]&#x09;= &quot;Strong, b, 1, , , 2, p, 3&quot;;&#x0D;&#x0A;$node_info [9]&#x09;= &quot;Univ. Apartments, bl, 1, , , 2, p, 3&quot;;&#x0D;&#x0A;$node_info [10]&#x09;= &quot;Programs, b, 1, crack.php, _this window, 3, p, 5&quot;;&#x0D;&#x0A;$node_info [11] = &quot;Staff, t, 1, login.php, , 3, n, 5&quot;;&#x0D;&#x0A;$node_info [12]&#x09;= &quot;Programs, j, 1, crack.php, _this window, 3, n, 6&quot;;&#x0D;&#x0A;$node_info [13] = &quot;Staff, t, 1, login.php, , 3, n, 6&quot;;&#x0D;&#x0A;$node_info [14]&#x09;= &quot;Programs, j, 1, crack.php, _this window, 3, n, 7&quot;;&#x0D;&#x0A;$node_info [15] = &quot;Staff, t, 1, login.php, , 3, n, 7&quot;;&#x0D;&#x0A;$node_info [16] = &quot;test1, j, 1, login.php, , 4, n, 10&quot;;&#x0D;&#x0A;$node_info [17] = &quot;test2, t, 1, login.php, , 4, n, 10&quot;;&#x0D;&#x0A;&#x0D;&#x0A;for ($d = 0; $d &lt;= count ($node_info); $d++) {&#x0D;&#x0A;&#x0D;&#x0A;&#x09;$node_array = explode (&quot;, &quot;, $node_info[$d]);&#x0D;&#x0A;&#x0D;&#x0A;&#x09;$node_label[$d] = $node_array[0];&#x0D;&#x0A;&#x09;$node_type[$d] = $node_array[1];&#x0D;&#x0A;&#x09;$node_status[$d] = $node_array[2];&#x0D;&#x0A;&#x09;$node_link[$d]= $node_array[3];&#x0D;&#x0A;&#x09;$node_target[$d]= $node_array[4];&#x0D;&#x0A; &#x09;$node_level[$d]= $node_array[5];&#x0D;&#x0A;&#x09;$node_parent[$d]= $node_array[6];&#x0D;&#x0A;&#x09;$node_child[$d]= $node_array[7];&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// un-comment the loop below to check what data you are sending from your node_info array.&#x0D;&#x0A;/*&#x0D;&#x0A; for ($e = 1;$e &lt; count ($node_label) ; $e++) {&#x0D;&#x0A; print &quot;num: $e - $node_label[$e]:$node_type[$e]:$node_status[$e]:$node_link[$e]:$node_target[$e]:$node_level[$e]:$node_parent[$e]:$node_child[$e]&lt;br&gt;\n &quot;;&#x0D;&#x0A; }&#x0D;&#x0A;*/&#x0D;&#x0A;&#x0D;&#x0A;display_menu ($node_label, $node_type, $node_status, $node_link, $node_target, $node_level, $node_parent, $node_child, $ns, $chg_node);&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;?&gt; &lt;/h4&gt;&#x0D;&#x0A;&lt;/BODY&gt;&#x0D;&#x0A;&lt;/HTML&gt;&#x0D;&#x0A;&#x0D;&#x0A;&lt;?&#x0D;&#x0A;&#x0D;&#x0A;function display_menu ($node_label, $node_type, $node_status, $node_link, $node_target, $node_level, $node_parent, $node_child, $ns, $chg_node) {&#x0D;&#x0A;&#x0D;&#x0A;$menu_depth = 3;&#x0D;&#x0A;&#x0D;&#x0A;// de-construct the node status string ($ns)&#x0D;&#x0A;&#x0D;&#x0A;if (isset($ns)) {&#x0D;&#x0A;&#x0D;&#x0A;&#x09;$node_status = explode (&quot;,&quot;, $ns);&#x0D;&#x0A;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;if ($chg_node):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;if ($node_status[$chg_node] == &quot;0&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;$node_status[$chg_node] = &quot;1&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;else:&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;$node_status[$chg_node] = &quot;0&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;endif;&#x0D;&#x0A;&#x0D;&#x0A;endif;&#x0D;&#x0A;&#x0D;&#x0A;$ns = &quot;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;// Display the starter node?&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;font size=\&quot;-1\&quot;&gt;\n&lt;table border=\&quot;0\&quot; cellspacing=\&quot;0\&quot; cellpadding=\&quot;0\&quot;&gt;&lt;tr&gt;&lt;td nowrap valign=\&quot;center\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Closed.gif\&quot;&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;td&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;font face=\&quot;Verdana, Arial, Helvetica, sans-serif\&quot; size=\&quot;1\&quot; color=\&quot;#000033\&quot;&gt;$node_label[0]&lt;/font&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n&quot;;&#x0D;&#x0A;&#x0D;&#x0A;$num_nodes = count ($node_label);&#x0D;&#x0A;&#x0D;&#x0A;for ($i = 1; $i &lt;= $num_nodes; $i++) {&#x0D;&#x0A;&#x0D;&#x0A;&#x09;if ($node_level[$i] == &quot;1&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;print &quot;\n&lt;table border=\&quot;0\&quot; cellspacing=\&quot;0\&quot; cellpadding=\&quot;0\&quot;&gt;&lt;tr&gt;&lt;td nowrap valign=\&quot;center\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;display_node ($node_label[$i], $node_type[$i], $node_status, $node_link[$i], $node_target[$i], $i, $node_status[$i]); &#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;if (($node_parent[$i] == &quot;p&quot;)&amp;&amp;($node_status[$i] == &quot;0&quot;)):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;for ($a = 1; $a &lt;= $num_nodes; $a++) {&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;if ($node_child[$a] == &quot;$i&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;print &quot;\n&lt;table border=\&quot;0\&quot; cellspacing=\&quot;0\&quot; cellpadding=\&quot;0\&quot;&gt;&lt;tr&gt;&lt;td nowrap valign=\&quot;center\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;print &quot;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Inode.gif\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;display_node ($node_label[$a], $node_type[$a], $node_status, $node_link[$a], $node_target[$a], $a, $node_status[$a]); &#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;if (($node_parent[$a] == &quot;p&quot;)&amp;&amp;($node_status[$a] == &quot;0&quot;)):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;for ($b = 1; $b &lt;= $num_nodes; $b++) {&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;if ($node_child[$b] == &quot;$a&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;print &quot;\n&lt;table border=\&quot;0\&quot; cellspacing=\&quot;0\&quot; cellpadding=\&quot;0\&quot;&gt;&lt;tr&gt;&lt;td nowrap valign=\&quot;center\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;print &quot;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Inode.gif\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;print &quot;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Inode.gif\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;display_node ($node_label[$b], $node_type[$b], $node_status, $node_link[$b], $node_target[$b], $b, $node_status[$b]); &#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;if (($node_parent[$b] == &quot;p&quot;)&amp;&amp;($node_status[$b] == &quot;0&quot;)):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;for ($c = 1; $c &lt;= $num_nodes; $c++) {&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;if ($node_child[$c] == &quot;$b&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;print &quot;\n&lt;table border=\&quot;0\&quot; cellspacing=\&quot;0\&quot; cellpadding=\&quot;0\&quot;&gt;&lt;tr&gt;&lt;td nowrap valign=\&quot;center\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;print &quot;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Inode.gif\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;print &quot;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Inode.gif\&quot;&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;if ($node_type[$b] == &quot;bl&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;print &quot;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/space.gif\&quot;&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;else:&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;print &quot;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Inode.gif\&quot;&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;endif;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;display_node ($node_label[$c], $node_type[$c], $node_status, $node_link[$c], $node_target[$c], $c, $node_status[$c]); &#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;endif;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;}&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;endif;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;endif;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;}&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;endif;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;endif;&#x0D;&#x0A;&#x09;&#x09;&#x09;}&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;endif;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;endif;&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;function node_status_values ($node_status) {&#x0D;&#x0A;&#x0D;&#x0A;$ns = &quot;1&quot;;&#x0D;&#x0A;$num_arr = count($node_status);&#x0D;&#x0A;&#x0D;&#x0A;for ($i=1;$i&lt;=$num_arr-1;$i++) {&#x0D;&#x0A;&#x0D;&#x0A;&#x09;$ns = $ns.&quot;,$node_status[$i]&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;print &quot;&amp;ns=$ns&quot;;&#x0D;&#x0A;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;function print_node_label ($node_link, $node_target, $node_label) {&#x0D;&#x0A;&#x0D;&#x0A;if ($node_link == &quot;&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;print &quot;$node_label&quot;;&#x0D;&#x0A;&#x0D;&#x0A;else:&#x0D;&#x0A;&#x0D;&#x0A;&#x09;if (!$node_target):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;a href=\&quot;$node_link\&quot;&gt;$node_label&lt;/a&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;else:&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;a href=\&quot;$node_link\&quot; target=\&quot;$node_target\&quot;&gt;$node_label&lt;/a&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;endif;&#x0D;&#x0A;&#x0D;&#x0A;endif;&#x0D;&#x0A;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;function display_node ($node_label, $node_type, $node_status, $node_link, $node_target, $i, $node_st_i) {&#x0D;&#x0A;global $filename;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;if (($node_type == &quot;b&quot;)||($node_type == &quot;bl&quot;)):&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;a href=\&quot;$filename?chg_node=$i&quot;;&#x0D;&#x0A;&#x09;&#x09;node_status_values ($node_status);&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;// Is the node a T branching node?&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;&#x09;&#x09;if ($node_type == &quot;b&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;// Is the node open or closed?&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;if ($node_st_i == &quot;0&quot;):&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;print &quot;\&quot;&gt;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/MinusT.gif\&quot;&gt;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Open.gif\&quot;&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;elseif ($node_st_i == &quot;1&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;print &quot;\&quot;&gt;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/PlusT.gif\&quot;&gt;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Closed.gif\&quot;&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;endif;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;print &quot;&lt;/a&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;print &quot;&lt;td valign=\&quot;center\&quot; nowrap&gt;&lt;font face=\&quot;Verdana, Arial, Helvetica, sans-serif\&quot; size=\&quot;1\&quot; color=\&quot;#000033\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;print_node_label ($node_link, $node_target, $node_label);&#x0D;&#x0A;&#x09;&#x09;&#x09;print &quot;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n\n&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;// Is the node a L branching node?&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;elseif ($node_type == &quot;bl&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;// Is the node open or closed?&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;if ($node_st_i == &quot;0&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;print &quot;\&quot;&gt;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/MinusL.gif\&quot;&gt;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Open.gif\&quot;&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;elseif ($node_st_i == &quot;1&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;print &quot;\&quot;&gt;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/PlusL.gif\&quot;&gt;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Closed.gif\&quot;&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;endif;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;&#x09;print &quot;&lt;/a&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;print &quot;&lt;td valign=\&quot;center\&quot; nowrap&gt;&lt;font face=\&quot;Verdana, Arial, Helvetica, sans-serif\&quot; size=\&quot;1\&quot; color=\&quot;#000033\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;print_node_label ($node_link, $node_target, $node_label);&#x0D;&#x0A;&#x09;&#x09;&#x09;print &quot;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n\n&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;endif;&#x0D;&#x0A;&#x09;&#x09;&#x0D;&#x0A;&#x09;// Is the node a junction node? (Node in the middle of the tree that does not branch any further.&#x0D;&#x0A;&#x0D;&#x0A;&#x09;elseif ($node_type == &quot;j&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/NoneT.gif\&quot;&gt;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Closed.gif\&quot;&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;td&gt;&lt;font face=\&quot;Verdana, Arial, Helvetica, sans-serif\&quot; size=\&quot;1\&quot; color=\&quot;#000033\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;print_node_label ($node_link, $node_target, $node_label);&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;// Is the node a terminating node? (Terminating nodes can not have branches.)&#x0D;&#x0A;&#x0D;&#x0A;&#x09;elseif ($node_type == &quot;t&quot;):&#x0D;&#x0A;&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/NoneL.gif\&quot;&gt;&lt;img border=\&quot;0\&quot; height=\&quot;22\&quot; src=\&quot;images/Closed.gif\&quot;&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;td&gt;&lt;font face=\&quot;Verdana, Arial, Helvetica, sans-serif\&quot; size=\&quot;1\&quot; color=\&quot;#000033\&quot;&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;print_node_label ($node_link, $node_target, $node_label);&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;&#x09;endif;&#x0D;&#x0A;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;?&gt;</code>
</snippet>
<snippet author="hipctech" date_entered="2004-11-01" last_modified="2005-01-15 02:41:34" name="Inulet" rating="0.00">
<description>a change to &quot;0 A Cool Recursive Links Script- path.php&quot; by fletcher. </description>
<code>I had to change the code a little as it didn&apos;t work for me. But thanks for writing it fletcher.&#x0D;&#x0A;&#x0D;&#x0A;[QUOTE]&#x0D;&#x0A;&lt;? &#x0D;&#x0A;################################################## &#x0D;&#x0A;##                                              ## &#x0D;&#x0A;##               path.php v1.3                  ## &#x0D;&#x0A;##        Version for eTemplate for PHP            ## &#x0D;&#x0A;##               Copyright 2000                 ## &#x0D;&#x0A;##                                              ## &#x0D;&#x0A;##       Jim Fletcher jim@websitecode.com       ## &#x0D;&#x0A;##                                              ## &#x0D;&#x0A;##  Free to distribute as long as this notice   ## &#x0D;&#x0A;##  remains. You cannot charge for this work or ## &#x0D;&#x0A;##  any derivatives thereof. No warranties on   ## &#x0D;&#x0A;##  this program are made or implied.           ## &#x0D;&#x0A;##                                              ## &#x0D;&#x0A;################################################## &#x0D;&#x0A;## Revisions: &#x0D;&#x0A;## 1.3 $ignore converted to array. Multiple ignores allowed. &#x0D;&#x0A;## 1.2 $urlbase autodetects.  Ignore page change to &quot;Home&quot; &#x0D;&#x0A;##     for compatibility with eTemplate for PHP script. &#x0D;&#x0A;## 1.1 Doesn&apos;t print link to index page &#x0D;&#x0A;# &#x0D;&#x0A;## You may make any modifications to this script## &#x0D;&#x0A;## to best fit your needs, but if you find some-## &#x0D;&#x0A;## thing wrong, let me know at                  ## &#x0D;&#x0A;##            jim@websitecode.com               ## &#x0D;&#x0A;################################################## &#x0D;&#x0A;# &#x0D;&#x0A;# To run this script you will need PHP enabled on &#x0D;&#x0A;# your server, and the PHP call: &#x0D;&#x0A;#    include(&quot;/path-to-this-script/path.php&quot;); &#x0D;&#x0A;# inserted within the PHP pages you want it to run on. &#x0D;&#x0A;# &#x0D;&#x0A;# NOTE: the &quot;/path-to-this-script/&quot; listed above &#x0D;&#x0A;# means change it to the location on YOUR &#x0D;&#x0A;# webserver or delete it if the path.php is in the &#x0D;&#x0A;# same directory as the calling page. &#x0D;&#x0A;# &#x0D;&#x0A;#################################### &#x0D;&#x0A;#          USER VARIABLES          # &#x0D;&#x0A;#################################### &#x0D;&#x0A;#What is the path that is going to be parsed? You may pass comment this out and pass the $originalpath as a variable from the calling page, but in testing the $PHP_SELF variable came from the original calling page, not the path.php page. &#x0D;&#x0A;$originalpath = $HTTP_SERVER_VARS[&apos;PHP_SELF&apos;]; &#x0D;&#x0A;//$originalpath = &apos;entrepreneurship/&apos;; &#x0D;&#x0A;&#x0D;&#x0A;#What is the Base URL? (usually the domain name) &#x0D;&#x0A;$urlbase = $HTTP_SERVER_VARS[&apos;HTTP_HOST&apos;]; &#x0D;&#x0A;//$urlbase = &quot;http://www.sd36.bc.ca/fltsec/entrepreneurship/&quot;; # Uncomment if the above line isn&apos;t working for you. &#x0D;&#x0A;&#x0D;&#x0A;# What Link Text Do You Want To Appear for the link to the base URL? &#x0D;&#x0A;$roottitle = &quot;Home&quot;; &#x0D;&#x0A;&#x0D;&#x0A;# In Your Output, What Symbol and Spacing Do You Want Between the Links? examples are | / : &#x0D;&#x0A;$seperator = &quot; :: &quot;; &#x0D;&#x0A;&#x0D;&#x0A;# What file do you want to not print a link to? (drop the .php suffix &amp; capitalize the filename) &#x0D;&#x0A;$ignore = array(&quot;Index&quot;,&quot;Home&quot;); &#x0D;&#x0A;&#x0D;&#x0A;####################################### &#x0D;&#x0A;# Do not modify beneath this point unless you know what you&apos;re doing! &#x0D;&#x0A;&#x0D;&#x0A;function check_ignore($ignore,$referer){ &#x0D;&#x0A;  if (count($ignore)){ &#x0D;&#x0A;    global $errors; &#x0D;&#x0A;    $found = true; &#x0D;&#x0A;    #$referer = $path[$number]; &#x0D;&#x0A;    for ($x=0; $x &lt; count($ignore); $x++){ &#x0D;&#x0A;      if ($ignore[$x] == $referer){ &#x0D;&#x0A;        $found = false; &#x0D;&#x0A;      } &#x0D;&#x0A;    } &#x0D;&#x0A;    return $found; &#x0D;&#x0A;  } else { &#x0D;&#x0A;    return true; //Not a good idea, if empty, it will allow it. &#x0D;&#x0A;  } &#x0D;&#x0A;} &#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;#Splits the path into an array using a forward slash &#x0D;&#x0A;$path = explode (&quot;/&quot;, $originalpath); &#x0D;&#x0A;#Counts How many elements are in the array so the loop below knows how long to loop &#x0D;&#x0A;$totalelements = count ($path); &#x0D;&#x0A;# Print out the Link to the Homepage &#x0D;&#x0A;printf(&apos;&lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;&apos;, $urlbase, $roottitle); &#x0D;&#x0A;# Loops thru the array printing out the link to the respective directory or file &#x0D;&#x0A;    for($number=1; $number&lt;$totalelements ; $number++) { &#x0D;&#x0A;        #Appends the next directory or file down to the URL &#x0D;&#x0A;        $urlbase = $urlbase . &quot;/&quot; . $path[$number]; &#x0D;&#x0A;        # Do Some Formatting on the Link Text &#x0D;&#x0A;            #Replace Triple Underscore with Ampersand Surrounded By Underscores to be later converted to spaces &#x0D;&#x0A;            $path[$number] = str_replace(&quot;___&quot;, &quot;_&amp;_&quot;, $path[$number]); &#x0D;&#x0A;            #Replace Underscore with Space &#x0D;&#x0A;            $path[$number] = str_replace(&quot;_&quot;, &quot; &quot;, $path[$number]); &#x0D;&#x0A;            #Replace Tilde with Question Mark &#x0D;&#x0A;            $path[$number] = str_replace(&quot;~&quot;, &quot;?&quot;, $path[$number]); &#x0D;&#x0A;            #Erase .php file extension &#x0D;&#x0A;            $path[$number] = str_replace(&quot;.php&quot;, &quot;&quot;, $path[$number]); &#x0D;&#x0A;            #Capitalize All Words &#x0D;&#x0A;            $path[$number] = ucwords($path[$number]); &#x0D;&#x0A;        # Print Out The URL With The Formatted Link Text &#x0D;&#x0A;        if(check_ignore($ignore,$path[$number])){ &#x0D;&#x0A;        printf(&apos;%s&lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;&apos;, $seperator, $urlbase, $path[$number]); &#x0D;&#x0A;        } &#x0D;&#x0A;    } &#x0D;&#x0A;?&gt;&#x0D;&#x0A;[/QUOTE]</code>
</snippet>
<snippet author="Comunica2" date_entered="2001-10-10" last_modified="2001-10-15 14:59:13" name="Language detection" rating="5.00">
<description>Language is detected according to the browser&apos;s language preference settings. User is automatically redirected to preferred language or to a default language</description>
<code>&lt;?php&#x0D;&#x0A;$lang=strtok($HTTP_ACCEPT_LANGUAGE,&quot;,&quot;); //language codes are comma delimited&#x0D;&#x0A;while ($lang){&#x0D;&#x0A; if (strstr($lang,&quot;en&quot;)){ //if there is &quot;en&quot; in it&#x0D;&#x0A;  header (&quot;Location: http://your.domain.com/english/&quot;); &#x0D;&#x0A;  exit;}&#x0D;&#x0A; if (strstr($lang,&quot;es&quot;)){&#x0D;&#x0A;  header (&quot;Location: http://your.domain.com/castellano/&quot;); &#x0D;&#x0A;  exit;}&#x0D;&#x0A; if (strstr($lang,&quot;nl&quot;){&#x0D;&#x0A;  header (&quot;Location: http://your.domain.com/nederlands/&quot;); &#x0D;&#x0A;  exit;}&#x0D;&#x0A; if ereg((strstr($lang,&quot;de&quot;){&#x0D;&#x0A;  header (&quot;Location: http://your.domain.com/deutsch/&quot;); &#x0D;&#x0A;  exit;}&#x0D;&#x0A; $lang=strtok(&quot;,&quot;);}//next token and end of while&#x0D;&#x0A;header (&quot;Location: http://your.domain.com/english/&quot;); // default relocation in case nothing got detected&#x0D;&#x0A;exit;&#x0D;&#x0A;?&gt;</code>
</snippet>
<snippet author="andrebl" date_entered="2002-11-29" last_modified="2002-12-05 21:26:10" name="Logical Parser" rating="0.00">
<description>This code allows some conditioal testing for file based menus. I used it to write a wizzard that enable/disables menu entrys by selecting specific options. This code can evaluate statements like SESSION_VAR= as true ore false. In that way you can use a text file that   contains a menu entry and an expression for the wizazrd steps.  </description>
<code>&lt;?php&#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;// function : wzProcess&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x0D;&#x0A;// parameter: $str = string that represents an expression&#x0D;&#x0A;// &#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; &#x09; ?expression&#x0D;&#x0A;//&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;expression = token operator expression&#x0D;&#x0A;//&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;token = 0|1|variable&#x0D;&#x0A;//&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;operator = (),=,&gt;,&lt;,&amp;,| &#x0D;&#x0A;//&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;  &#x0D;&#x0A;//&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;example:&#x0D;&#x0A;//&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;?(ge_system=Fire280)&amp;(ge_os=2.8)&#x0D;&#x0A;//&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;evaluates true if the Variable ge_system is Fire280&#x0D;&#x0A;//&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;and ge_os is 2.8. &#x0D;&#x0A;//&#x0D;&#x0A;// return   : true or false&#x0D;&#x0A;// purpose  : Evaluate a given expression to true ore false &#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;function wzProcess($string) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; static $str;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; $operators = &quot;?()|&amp;=&lt;&gt;~&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; $token    = &quot;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; $result   = &quot;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; $operator = &quot;&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; &#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; // set the loopcount to 0 and store the shortend string to the $str&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; // value. Cause $str is static, we will deal with the shortend string&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; // on return.&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; $i = 0;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; $str = $string;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; // loop until we find an operator&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; for (; $i&lt;strlen($str);$i++) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; &#x09;&#x09; if (strchr($operators,$str[$i])) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; &#x09;&#x09;$operator = $str[$i];&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;break;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; } else {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $token .= $str[$i];&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; }&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; }&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; &#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; // this will replace the token if we have a ge_ session variable &#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; $token = wzIsVariable($token);&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; &#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; // process the operator that was found. &#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; switch ($operator) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;case &apos;?&apos; :&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $token = wzProcess(substr($str,$i+1));&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; break;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; &#x09;&#x09;&#x09;&#x09;case &apos;(&apos; :&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $result = wzProcess(substr($str,$i+1));&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $str = $result.$str;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $token = wzProcess($str);&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; break;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;case &apos;)&apos; :&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $str = substr($str,$i+1);&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; return $token;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; break;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; &#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;case &apos;|&apos; :&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $result = wzProcess(substr($str,$i+1));&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $token  = wzOR($result,$token);&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; break;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;case &apos;&amp;&apos; :&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $result = wzProcess(substr($str,$i+1));&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $token  = wzAND($result,$token);&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; break;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;case &apos;=&apos; :&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $result = wzProcess(substr($str,$i+1));&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $token  = wzEQUAL($result,$token);&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; break;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;case &apos;~&apos; :&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $result = wzProcess(substr($str,$i+1));&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $token  = wzISIN($result,$token);&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; break;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;case &apos;&lt;&apos; :&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $result = wzProcess(substr($str,$i+1));&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $token  = wzLESS($token, $result);&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; break;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;case &apos;&gt;&apos; :&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $result = wzProcess(substr($str,$i+1));&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; $token  = wzBIGGER($token, $result);&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; break;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; }&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; // return the token for further processing&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; return $token;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;// function : wzOR&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x0D;&#x0A;// parameter: $var1 -&gt; The first value&#x0D;&#x0A;// &#x09;&#x09;&#x09;&#x09;&#x09;&#x09;$var2 -&gt; Second value&#x0D;&#x0A;// return   : true or false&#x0D;&#x0A;// purpose  : This function can used to execute an OR between to values &#x0D;&#x0A;// &#x09;&#x09;&#x09;&#x09;&#x09;&#x09;result is true if one of the variables is true. &#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;function wzOR($val1,$val2) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; return (bool)($val1 | $val2);&#x09;&#x09;&#x09;&#x09; &#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;// function : wzAND&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x0D;&#x0A;// parameter: $var1 -&gt; The first value&#x0D;&#x0A;// &#x09;&#x09;&#x09;&#x09;&#x09;&#x09;$var2 -&gt; Second value&#x0D;&#x0A;// return   : true or false&#x0D;&#x0A;// purpose  : This function can used to execute an AND between to values &#x0D;&#x0A;// &#x09;&#x09;&#x09;&#x09;&#x09;&#x09;result is true if both variables are true. &#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;function wzAND($val1,$val2) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; return (bool)($val1 &amp; $val2);&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;// function : wzISIN&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x0D;&#x0A;// parameter: $value   -&gt; the value that is searched within the&#x0D;&#x0A;// &#x09;&#x09;&#x09;&#x09;&#x09;&#x09;$pattern -&gt; pattern &#x0D;&#x0A;// return   : true or false&#x0D;&#x0A;// purpose  : This function can used to match a pattern between to values &#x0D;&#x0A;// &#x09;&#x09;&#x09;&#x09;&#x09;&#x09;If the pattern is found it will return true. &#x0D;&#x0A;//&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;NOTICE: if you match against seperated strings like &quot;1 2 3&quot;&#x0D;&#x0A;//&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;an &lt;space&gt; should be added to the $value string.  &#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;function wzISIN($value,$pattern) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; if (preg_match(&quot;/&quot;.$value.&quot;/&quot;,$pattern.&quot; &quot;)) return 1;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; return 0;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;// function : wzBIGGER&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x0D;&#x0A;// parameter: $var1 -&gt; The first value&#x0D;&#x0A;// &#x09;&#x09;&#x09;&#x09;&#x09;&#x09;$var2 -&gt; Second value&#x0D;&#x0A;// return   : true or false&#x0D;&#x0A;// purpose  : var1 is bigger then var 2 (integer compare) &#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;function wzBIGGER($val1,$val2) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; if ($val1 &gt; $val2) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;return 1;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; }&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; return 0;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;// function : wzLESS&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x0D;&#x0A;// parameter: $var1 -&gt; The first value&#x0D;&#x0A;// &#x09;&#x09;&#x09;&#x09;&#x09;&#x09;$var2 -&gt; Second value&#x0D;&#x0A;// return   : true or false&#x0D;&#x0A;// purpose  : var1 is less then var2 (integer compare) &#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;function wzLESS($val1,$val2) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; if ($val1 &lt; $val2) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;return 1;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; }&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; return 0;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;// function : wzEQUAL&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x0D;&#x0A;// parameter: $var1 -&gt; The first value&#x0D;&#x0A;// &#x09;&#x09;&#x09;&#x09;&#x09;&#x09;$var2 -&gt; Second value&#x0D;&#x0A;// return   : true or false&#x0D;&#x0A;// purpose  : var1 is equal to var2 (integer compare/ may also work on strings) &#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;function wzEQUAL($val1,$val2){&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; if ($val1 == $val2) return 1;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; return 0;&#x0D;&#x0A;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;// function : wzIsVariable&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x0D;&#x0A;// parameter: $var -&gt; The value to check&#x0D;&#x0A;//&#x0D;&#x0A;// return   : alway a value &#x0D;&#x0A;// purpose  : if the given string is a $_SESSION variable, this function will &#x0D;&#x0A;// &#x09;&#x09;&#x09;&#x09;&#x09;&#x09;return the content of this variable. This function can be enhanced&#x0D;&#x0A;//&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;for other cases. &#x0D;&#x0A;// -----------------------------------------------------------------------------&#x0D;&#x0A;function wzIsVariable($var) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; if (preg_match(&quot;/ge_/&quot;,$var)) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; &#x09;&#x09;if (isset($_SESSION[$var])) {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09; return $_SESSION[$var];&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;} else {&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;return 0;&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;}&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; }&#x0D;&#x0A;&#x09;&#x09;&#x09;&#x09; return $var;&#x0D;&#x0A;}&#x0D;&#x0A;?&gt;</code>
</snippet>
<snippet author="hermawan" date_entered="2002-11-11" last_modified="2002-11-17 09:02:01" name="myPaging with Staging" rating="0.00">
<description>This script is not actually a class. I just want to show you how to make paging with result set and how to display it not all of the link page, but separate it in some number of stage. It can be easly adapted to your general class.</description>
<code>&lt;?php &#x0D;&#x0A;  class paging { &#x0D;&#x0A;    function paging () { &#x0D;&#x0A;      $this-&gt;rowperpage = 50; &#x0D;&#x0A;      $this-&gt;pageperstg = 20; &#x0D;&#x0A;    } &#x0D;&#x0A;    function getPaging($rownum, $pg=&quot;1&quot;, $stg=&quot;1&quot;) { &#x0D;&#x0A;      $arr = explode(&quot;&amp;&quot;,$_SERVER[&quot;QUERY_STRING&quot;]); &#x0D;&#x0A;      if (is_array($arr)) { &#x0D;&#x0A;        for ($i=0;$i&lt;count($arr);$i++) { &#x0D;&#x0A;          if (!is_int(strpos($arr[$i],&quot;pg=&quot;)) &amp;&amp; !is_int(strpos($arr[$i],&quot;stg=&quot;)) &amp;&amp; trim($arr[$i]) != &quot;&quot;) $qs .= $arr[$i].&quot;&amp;&quot;; &#x0D;&#x0A;        } &#x0D;&#x0A;      } &#x0D;&#x0A;      if ($this-&gt;rowperpage&lt;$rownum) { &#x0D;&#x0A;        $allpage = ceil($rownum/$this-&gt;rowperpage); &#x0D;&#x0A;        $allstg  = ceil($allpage/$this-&gt;pageperstg); &#x0D;&#x0A;        $minpage = (($stg-1)*$this-&gt;pageperstg)+1; &#x0D;&#x0A;        $maxpage = $stg*$this-&gt;pageperstg; &#x0D;&#x0A;        if ($maxpage&gt;$allpage) $maxpage = $allpage; &#x0D;&#x0A;        if ($allpage&gt;1) { &#x0D;&#x0A;          $rtn  = &quot;&lt;table width=100% align=center cellpadding=2 cellspacing=0&gt;&lt;tr align=center valign=middle&gt;&lt;td class=\&quot;smallbody\&quot;&gt;&quot;; &#x0D;&#x0A;          if ($stg&gt;1) $rtn .= &quot;&lt;a href=\&quot;&quot;.$_SERVER[&quot;PHP_SELF&quot;].&quot;?&quot;.$qs.&quot;pg=&quot;.($minpage-1).&quot;&amp;stg=&quot;.($stg-1).&quot;\&quot;&gt;Previous Stage&lt;/a&gt; | &quot;; &#x0D;&#x0A;          if ($pg&gt;1) { &#x0D;&#x0A;            if ($pg==$minpage) { &#x0D;&#x0A;              $rtn .= &quot;&lt;a href=\&quot;&quot;.$_SERVER[&quot;PHP_SELF&quot;].&quot;?&quot;.$qs.&quot;pg=&quot;.($pg-1).&quot;&amp;stg=&quot;.($stg-1).&quot;\&quot;&gt;Previous&lt;/a&gt; | &quot;; &#x0D;&#x0A;            } else { &#x0D;&#x0A;              $rtn .= &quot;&lt;a href=\&quot;&quot;.$_SERVER[&quot;PHP_SELF&quot;].&quot;?&quot;.$qs.&quot;pg=&quot;.($pg-1).&quot;&amp;stg=$stg\&quot;&gt;Previous&lt;/a&gt; | &quot;; &#x0D;&#x0A;            } &#x0D;&#x0A;          } &#x0D;&#x0A;          for ($i=$minpage;$i&lt;=$maxpage;$i++) { &#x0D;&#x0A;            if ($i==$pg) { &#x0D;&#x0A;              $rtn .= &quot;&lt;b&gt;$i&lt;/b&gt; | &quot;; &#x0D;&#x0A;            } else { &#x0D;&#x0A;              $rtn .= &quot;&lt;a href=\&quot;&quot;.$_SERVER[&quot;PHP_SELF&quot;].&quot;?&quot;.$qs.&quot;pg=$i&amp;stg=$stg\&quot; title=&apos;Page $i&apos;&gt;$i&lt;/a&gt; | &quot;; &#x0D;&#x0A;            } &#x0D;&#x0A;          } &#x0D;&#x0A;          if ($pg&lt;=$maxpage) { &#x0D;&#x0A;            if ($pg==$maxpage &amp;&amp; $stg&lt;$allstg) { &#x0D;&#x0A;              $rtn .= &quot; &lt;a href=\&quot;&quot;.$_SERVER[&quot;PHP_SELF&quot;].&quot;?&quot;.$qs.&quot;pg=&quot;.($pg+1).&quot;&amp;stg=&quot;.($stg+1).&quot;\&quot;&gt;Next&lt;/a&gt; | &quot;; &#x0D;&#x0A;            } elseif ($pg&lt;$maxpage) { &#x0D;&#x0A;              $rtn .= &quot; &lt;a href=\&quot;&quot;.$_SERVER[&quot;PHP_SELF&quot;].&quot;?&quot;.$qs.&quot;pg=&quot;.($pg+1).&quot;&amp;stg=$stg\&quot;&gt;Next&lt;/a&gt; | &quot;; &#x0D;&#x0A;            } &#x0D;&#x0A;          } &#x0D;&#x0A;          if ($stg&lt;$allstg) $rtn .= &quot;&lt;a href=\&quot;&quot;.$_SERVER[&quot;PHP_SELF&quot;].&quot;?&quot;.$qs.&quot;pg=&quot;.($maxpage+1).&quot;&amp;stg=&quot;.($stg+1).&quot;\&quot;&gt;Next Stage&lt;/a&gt; | &quot;; &#x0D;&#x0A;          $rtn = substr($rtn,0,strlen($rtn)-3); &#x0D;&#x0A;          $rtn .= &quot;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;; &#x0D;&#x0A;          return $rtn; &#x0D;&#x0A;        } &#x0D;&#x0A;      } &#x0D;&#x0A;    } &#x0D;&#x0A;  }; &#x0D;&#x0A;?&gt; </code>
</snippet>
<snippet author="peter54" date_entered="2002-01-11" last_modified="2002-01-26 07:43:31" name="MySQL viewer with SQL capability" rating="0.00">
<description>View informaion on local or remote MySQL. Simple SQL commands.</description>
<code>&lt;?php //header (&quot;Cache-Control: no-cache, must-revalidate&quot;);  ?&gt;&#x0D;&#x0A;&lt;html&gt;&#x0D;&#x0A;&lt;head&gt;&#x0D;&#x0A;  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=windows-1250&quot;&gt;&#x0D;&#x0A;  &lt;title&gt;Pokusy&lt;/title&gt;&#x0D;&#x0A;    &#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;&lt;/head&gt;&#x0D;&#x0A;&lt;body&gt;&#x0D;&#x0A;&#x0D;&#x0A;    &lt;?php&#x0D;&#x0A;&#x0D;&#x0A;    // Zaistm platnos? premennch formulra&#x0D;&#x0A;    //error_reporting  (E_ERROR | E_WARNING | E_PARSE);&#x0D;&#x0A;    //error_reporting  (E_ERROR |  E_PARSE);&#x0D;&#x0A;    error_reporting  (E_ALL );&#x0D;&#x0A;        if (!isset($server))$server=&quot;localhost&quot;;&#x0D;&#x0A;        if (!isset($user)) $user=&quot;&quot;;&#x0D;&#x0A;        if (!isset($CHK)) $CHK=&quot;&quot;;&#x0D;&#x0A;        if (!isset($sql)) $sql=&quot;&quot;;&#x0D;&#x0A;        if (!isset($passwd)) $passwd=&quot;&quot;;&#x0D;&#x0A;        if (!isset($DTB) ) $DTB=&quot;mysql&quot;;&#x0D;&#x0A;        if (!isset($hlavicka) ) $hlavicka=1;&#x0D;&#x0A;     $sql=eregi_replace(&apos;\\\\&apos;,&quot;&quot;, $sql);&#x0D;&#x0A;&#x0D;&#x0A; @$spojeni = mysql_connect($server, &quot;$user&quot;, &quot;$passwd&quot;);&#x0D;&#x0A; if (!$spojeni){&#x0D;&#x0A;   echo &quot;Connection to &apos;$server&apos; for &apos;$user&apos; failed &quot;.mysql_error();&#x0D;&#x0A; } else {&#x0D;&#x0A;   mysql_select_db ($DTB)&#x0D;&#x0A;         or die (mysql_error().&quot; Could not select database&quot;);&#x0D;&#x0A;}&#x0D;&#x0A;    ?&gt;&#x0D;&#x0A;&#x0D;&#x0A;&lt;H1&gt;&lt;FONT COLOR=&quot;#0000aa&quot;&gt;View database info -&#x0D;&#x0A;     &lt;/FONT&gt;&#x0D;&#x0A;     &lt;FONT COLOR=&quot;#ff8800&quot;&gt;#&#x0D;&#x0A;     &lt;?php poc_pristupov(&quot;aaa.dat&quot;)?&gt; -&#x0D;&#x0A;     &lt;?php echo Date(&quot;d.M.Y H:i:s&quot;);?&gt;&#x0D;&#x0A;     &lt;/FONT&gt;&#x0D;&#x0A;&lt;/H1&gt;&#x0D;&#x0A;&lt;FORM NAME=F1 METHOD=&quot;GET&quot; ACTION=&quot;&lt;?php echo($PHP_SELF); ?&gt;&quot;&gt;&#x0D;&#x0A;&#x0D;&#x0A;Host: &lt;input type=&quot;Text&quot; name=&quot;server&quot; value=&quot;&lt;?php echo $server ?&gt;&quot; size=&quot;12&quot; onChange=&quot;user.focus(); user.select();&quot;&gt;&#x0D;&#x0A;User: &lt;input type=&quot;Text&quot; name=&quot;user&quot; value=&quot;&lt;?php echo $user ?&gt;&quot; size=&quot;12&quot; onblur=&quot;passwd.focus(); passwd.select();&quot;&gt;&#x0D;&#x0A;Password: &lt;input type=&quot;password&quot; name=&quot;passwd&quot; value=&quot;&lt;?php echo $passwd ?&gt;&quot; size=&quot;12&quot; onblur=&quot;F1.submit()&quot;&gt;&#x0D;&#x0A;&lt;BR&gt;&#x0D;&#x0A;&lt;?php&#x0D;&#x0A;    if (!$spojeni){ die (mysql_error().&quot;Fix your login!!!&quot;); }&#x0D;&#x0A;    //Vpis nzvov databz&#x0D;&#x0A;    echo &quot;&lt;B&gt;Databases on &lt;FONT COLOR=&apos;#0000aa&apos;&gt;&apos;$server&apos;&lt;/FONT&gt;: &lt;FONT size=5 COLOR=#ff0000&gt;&quot;;&#x0D;&#x0A;    $db_list = mysql_list_dbs();&#x0D;&#x0A;    $i = 0;&#x0D;&#x0A;    $cnt = mysql_num_rows($db_list);&#x0D;&#x0A;    while ($i &lt; $cnt) {&#x0D;&#x0A;        echo mysql_db_name($db_list, $i) . &quot;\n&quot;;&#x0D;&#x0A;        $i++;&#x0D;&#x0A;    }&#x0D;&#x0A;    echo &quot;&lt;/FONT&gt;&lt;/B&gt;&quot;;&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&#x0D;&#x0A;&lt;?php&#x0D;&#x0A;    echo &quot;&lt;BR&gt;&lt;B&gt;Tables in database &lt;FONT COLOR=&apos;#0000aa&apos;&gt;&apos;$DTB&apos;&lt;/FONT&gt; :&lt;FONT size=5 COLOR=#007700&gt; &quot;;&#x0D;&#x0A;$result = mysql_list_tables ($DTB);&#x0D;&#x0A;$i = 0;&#x0D;&#x0A;while ($i &lt; mysql_num_rows ($result)) {&#x0D;&#x0A;    $tb_names[$i] = mysql_tablename ($result, $i);&#x0D;&#x0A;    echo          &quot;$tb_names[$i] &quot;;&#x0D;&#x0A;    $i++;&#x0D;&#x0A;}&#x0D;&#x0A;    echo &quot;&lt;/FONT&gt;&lt;/B&gt;&quot;;&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&lt;br&gt;&#x0D;&#x0A;&lt;?php&#x0D;&#x0A;$result = mysql_list_dbs ();&#x0D;&#x0A;$i = 0;&#x0D;&#x0A;?&gt;&#x0D;&#x0A;Database :&#x0D;&#x0A;&lt;select name=DTB size=1 width=10 onChange=&quot;posli.click()&quot; &gt;&#x0D;&#x0A;&lt;?php&#x0D;&#x0A;&#x0D;&#x0A;while ($i &lt; mysql_num_rows ($result)) {&#x0D;&#x0A;    $tb_names[$i] = mysql_tablename ($result, $i);&#x0D;&#x0A;    $sel=sel($DTB, $tb_names[$i]);&#x0D;&#x0A;    echo          &quot;&lt;option value=\&quot;$tb_names[$i]\&quot; $sel &gt;$tb_names[$i]&lt;/option&gt;&quot;;&#x0D;&#x0A;    $i++;&#x0D;&#x0A;}&#x0D;&#x0A;echo &quot;&lt;/select&gt;&quot;;&#x0D;&#x0A;mysql_free_result ($result);&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&#x0D;&#x0A;&lt;?php&#x0D;&#x0A;$result = mysql_list_tables ($DTB);&#x0D;&#x0A;$i = 0;&#x0D;&#x0A;echo &quot;, Table : &quot;;&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&lt;select name=name size=1  title=tabuky onChange=&quot;posli.click()&quot; &gt;&#x0D;&#x0A;&lt;?php&#x0D;&#x0A;&#x0D;&#x0A;echo &quot;&lt;option value=\&quot;\&quot; $sel &gt;Select a table&lt;/option&gt;&quot;;&#x0D;&#x0A;while ($i &lt; mysql_num_rows ($result)) {&#x0D;&#x0A;    $tb_names[$i] = mysql_tablename ($result, $i);&#x0D;&#x0A;    $sel=sel($name, $tb_names[$i]);&#x0D;&#x0A;    echo          &quot;&lt;option value=\&quot;$tb_names[$i]\&quot; $sel &gt;$tb_names[$i]&lt;/option&gt;&quot;;&#x0D;&#x0A;    $i++;&#x0D;&#x0A;}&#x0D;&#x0A;echo &quot;&lt;/select&gt;&quot;;&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&lt;select name=hlavicka size=1  onChange=&quot;posli.click()&quot; &gt;&#x0D;&#x0A;&lt;?php&#x0D;&#x0A;$i = 1;&#x0D;&#x0A;while ($i &lt;= 6) {&#x0D;&#x0A;    $tb_names[$i] = mysql_tablename ($result, $i);&#x0D;&#x0A;    $sel=sel($hlavicka, $i);&#x0D;&#x0A;    echo          &quot;&lt;option value=\&quot;$i\&quot; $sel &gt;$i&lt;/option&gt;&quot;;&#x0D;&#x0A;    $i++;&#x0D;&#x0A;}&#x0D;&#x0A;echo &quot;&lt;/select&gt;&quot;;&#x0D;&#x0A;?&gt;&#x0D;&#x0A;Use custom SQL &lt;input type=&quot;checkbox&quot; name=&quot;CHK&quot; value=&quot;YES&quot; &lt;?php if ($CHK==&quot;YES&quot;){echo &quot;checked&quot;;}?&gt;&gt;&lt;br&gt;&#x0D;&#x0A;&lt;textarea cols=&quot;90&quot; wrap=virtual rows=&quot;4&quot; name=&quot;sql&quot;&gt;&lt;?php echo $sql ?&gt;&lt;/textarea&gt;&#x0D;&#x0A;&#x0D;&#x0A;&lt;?&#x0D;&#x0A;mysql_free_result ($result);&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&lt;INPUT TYPE=&quot;submit&quot; NAME=posli &gt;&#x0D;&#x0A;&#x0D;&#x0A;&lt;/FORM&gt;&#x0D;&#x0A;&lt;!-- Koniec formulra --&gt;&#x0D;&#x0A;&lt;HR&gt;&#x0D;&#x0A;&#x0D;&#x0A;&lt;?php&#x0D;&#x0A; mysql_select_db(&quot;$DTB&quot;);&#x0D;&#x0A;if ($CHK==&quot;&quot;){&#x0D;&#x0A;@$result=mysql_query (&quot;show columns from $name&quot;) or die (mysql_error().&quot; No table to show&quot;);&#x0D;&#x0A;echo &quot;&lt;TABLE CELLPADDING=2 CELLSPACING=0 BORDER=1&gt;&quot;;&#x0D;&#x0A;for ($i = 0; $i &lt; $hlavicka; $i++) {&#x0D;&#x0A;    echo &quot;&lt;TR BGCOLOR=bbbbbb&gt;&quot;;&#x0D;&#x0A;    mysql_data_seek ($result, 0) ;&#x0D;&#x0A;    while ($row = mysql_fetch_array ($result)) {&#x0D;&#x0A;             print &quot;&lt;TH&gt;&quot;.$row[$i].&quot;&lt;/TH&gt;&quot;;&#x0D;&#x0A;    }&#x0D;&#x0A;    print &quot;&lt;/TR&gt;&quot;;&#x0D;&#x0A;}&#x0D;&#x0A;$sql1=&quot;select * from $name&quot;;&#x0D;&#x0A;$result=mysql_query ($sql1) or die (mysql_error().&quot; kvak&quot;);&#x0D;&#x0A;$col1=&quot;ffffff&quot; ; $col2=&quot;bbffbb&quot;; $bgcolor=&quot;whatever&quot;;&#x0D;&#x0A;while ($row = mysql_fetch_assoc ($result)) {&#x0D;&#x0A;     if ( $bgcolor!=$col1){$bgcolor=$col1;} else {$bgcolor=$col2;};&#x0D;&#x0A;     print &quot;&lt;TR bgcolor=\&quot;$bgcolor\&quot;&gt;&quot;;&#x0D;&#x0A;     foreach($row as $k =&gt; $v) {&#x0D;&#x0A;//         print &quot;ppp\$a[$k] =&gt; $v.qqq\n&quot;;&#x0D;&#x0A;         print &quot;&lt;TD&gt;$v&amp;nbsp&lt;/TD&gt;&quot;;&#x0D;&#x0A;     }&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;print &quot;&lt;/TABLE&gt;&lt;P&gt;&quot;;&#x0D;&#x0A;}else {&#x0D;&#x0A;print &quot;&lt;TABLE CELLPADDING=2 CELLSPACING=0 BORDER=1&gt;&lt;TR bgcolor=ffff99&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;if (($CHK==&quot;&quot;)){ $sql=&quot;select * from $name&quot;; }&#x0D;&#x0A;&#x0D;&#x0A;$result=mysql_query ($sql) or die (mysql_error().&quot; kvak&quot;);&#x0D;&#x0A;$row = mysql_fetch_assoc ($result);&#x0D;&#x0A;     foreach($row as $k =&gt; $v) {&#x0D;&#x0A;         print &quot;&lt;TH&gt;$k&lt;/TH&gt;&quot;;&#x0D;&#x0A;     }&#x0D;&#x0A;     print &quot;&lt;/TR&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;mysql_data_seek ($result, 0) ;&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;$col1=&quot;ffffff&quot; ; $col2=&quot;bbffbb&quot;; $bgcolor=&quot;whatever&quot;;&#x0D;&#x0A;while ($row = mysql_fetch_assoc ($result)) {&#x0D;&#x0A;     if ( $bgcolor!=$col1){$bgcolor=$col1;} else {$bgcolor=$col2;};&#x0D;&#x0A;     print &quot;&lt;TR bgcolor=\&quot;$bgcolor\&quot;&gt;&quot;;&#x0D;&#x0A;     foreach($row as $k =&gt; $v) {&#x0D;&#x0A;//         print &quot;ppp\$a[$k] =&gt; $v.qqq\n&quot;;&#x0D;&#x0A;         print &quot;&lt;TD&gt;$v&amp;nbsp&lt;/TD&gt;&quot;;&#x0D;&#x0A;     }&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;}&#x0D;&#x0A;echo &quot;&lt;/TABLE&gt;&quot;;&#x0D;&#x0A;}&#x0D;&#x0A;mysql_free_result ($result);&#x0D;&#x0A;&#x0D;&#x0A;echo &quot;-o-&quot;;&#x0D;&#x0A;// echo     mysql_close ($link);&#x0D;&#x0A;&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&lt;hr size=&quot;10&quot;&gt;&#x0D;&#x0A;&lt;?php  // show_source (&quot;$PHP_SELF&quot;); ?&gt;&#x0D;&#x0A;&lt;HR&gt;&lt;/BODY&gt;&lt;/HTML&gt;&#x0D;&#x0A;</code>
</snippet>
<snippet author="whatashocker" date_entered="2002-02-07" last_modified="2002-02-24 07:19:50" name="Navigation Based On Directory Structure" rating="0.00">
<description>Generate a directory structure link at the top of each page.  Allows you to specify your own names if the folders aren&apos;t descriptive enough.</description>
<code>&lt;?&#x0D;&#x0A;// Locator Line Based On Directory Structure&#x0D;&#x0A;// Author WhatAShocker&#x0D;&#x0A;//---------------------------------------------------------------------------------&#x0D;&#x0A;// Mappings for locator line, Replaces folder names on server with ones you specify&#x0D;&#x0A;// Examples: Change as needed.&#x0D;&#x0A;       $LocationMappings = array(&#x0D;&#x0A;        &quot;dir1&quot;   =&gt; &quot;Directory 1&quot;,&#x0D;&#x0A;        &quot;about&quot;  =&gt; &quot;About The Company&quot;&#x0D;&#x0A;        );&#x0D;&#x0A;//-------------------------------------------------------------------------------\/&#x0D;&#x0A;function LocatorLine()&#x0D;&#x0A;{&#x0D;&#x0A;       global $SCRIPT_NAME, $LocationMappings;&#x0D;&#x0A;       $file=1; // 1 Doesn&apos;t show the file name, 0 Does&#x0D;&#x0A;&#x0D;&#x0A;       $locationArray = explode(&quot;/&quot;,$SCRIPT_NAME);&#x0D;&#x0A;       $locationHref = &quot;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;       echo &apos;&lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;&apos;;&#x0D;&#x0A;       for($i=1; $i&lt;count($locationArray)-$file; $i++)&#x0D;&#x0A;       {&#x0D;&#x0A;          if ( !empty($LocationMappings[$locationArray[$i]]) ) {&#x0D;&#x0A;             $locationText = $LocationMappings[$locationArray[$i]];&#x0D;&#x0A;          }&#x0D;&#x0A;          else {&#x0D;&#x0A;             $locationText = ucwords($locationArray[$i]);  //Uppercase letters&#x0D;&#x0A;          }&#x0D;&#x0A;          $locationHref .= &quot;/&quot; . $locationArray[$i];&#x0D;&#x0A;          echo &quot;&amp;nbsp;&gt;&gt;&amp;nbsp;&lt;a href=\&quot;$locationHref\&quot;&gt;$locationText&lt;/a&gt;&quot;;&#x0D;&#x0A;       }&#x0D;&#x0A;       echo &quot;\n&quot;;&#x0D;&#x0A;}&#x0D;&#x0A;//-------------------------------------------------------------------------------/\&#x0D;&#x0A;&#x0D;&#x0A;LocatorLine()&#x0D;&#x0A;?&gt;&#x0D;&#x0A;</code>
</snippet>
<snippet author="klbecke" date_entered="2000-12-04" last_modified="2001-01-28 19:07:37" name="Navigation through a page-list" rating="4.50">
<description>Function, which automaticly prints a page-navigation, when there are more entries which are returned from dabase then should be printed on a page</description>
<code>&lt;?php &#x0D;&#x0A;&#x0D;&#x0A;//*******************************************************************************&#x0D;&#x0A;//&#x0D;&#x0A;//&#x09;Klaus Becker, &#x0D;&#x0A;//&#x09;kbecker@mbo-verlag.de&#x0D;&#x0A;//&#x09;Dezember 2000&#x0D;&#x0A;//&#x0D;&#x0A;//&#x09;Function, which automaticly prints a page-navigation, &#x0D;&#x0A;//&#x09;when there are more entries which are returned from &#x0D;&#x0A;//&#x09;a database then should be printed on a page&#x0D;&#x0A;//&#x0D;&#x0A;//&#x0D;&#x0A;//&#x09;The function needs three parameter&#x0D;&#x0A;//&#x0D;&#x0A;//&#x09;1. allEntries:&#x09;Integer, Number of all DB-Entries&#x0D;&#x0A;//&#x09;2. limitBy: &#x09;Integer, Number of Entries, which are printed on one Page&#x0D;&#x0A;//&#x09;3. limitStart:               Integer, Offset&#x0D;&#x0A;//&#x0D;&#x0A;//*******************************************************************************&#x0D;&#x0A;&#x0D;&#x0A;function showPageNavigation($allEntries, $limitStart=0, $limitBy=20)&#x0D;&#x0A;&#x09;{&#x0D;&#x0A;&#x09;$lastPageEntries = ($allEntries % $limitBy); &#x0D;&#x0A;&#x09;$allPages = round(($allEntries - $lastPageEntries) / $limitBy)+1; &#x0D;&#x0A;&#x09;if($lastPageEntries&gt;0 and $allPages==0) {$allPages=$allPages+1;} &#x0D;&#x0A;&#x09;$thisPage = round(($limitStart+$limitBy) / $limitBy); &#x0D;&#x0A;&#x09;print &quot;&lt;b&gt;&lt;br&gt;Page &quot;.$thisPage.&quot; of &quot;.$allPages.&quot;&lt;br&gt;&lt;br&gt;&lt;/b&gt;&quot;; &#x0D;&#x0A;&#x09;if($allEntries &gt; $limitBy) &#x0D;&#x0A;&#x09;&#x09;{&#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;b&gt;Pages:&lt;/b&gt;&amp;nbsp;&quot;;&#x0D;&#x0A;&#x09;&#x09;for($entryNr=1; $entryNr&lt;=$allPages; $entryNr++)&#x0D;&#x0A;&#x09;&#x09;&#x09;{&#x0D;&#x0A;&#x09;&#x09;&#x09;$startPage = ($entryNr * $limitBy) - $limitBy;&#x0D;&#x0A;&#x09;&#x09;&#x09;if($thisPage!=$entryNr){print &quot;&lt;b&gt;&lt;a href=\&quot;&quot;.$PHP_SELF.&quot;?limitStart=&quot;.$startPage.&quot;\&quot;&gt;&quot;.$entryNr.&quot;&lt;/a&gt;&lt;/b&gt;&amp;nbsp;&quot;;}&#x0D;&#x0A;&#x09;&#x09;&#x09;else{print &quot;&lt;b&gt;&quot;.$entryNr.&quot;&lt;/b&gt;&amp;nbsp;&quot;;} &#x0D;&#x0A;&#x09;&#x09;&#x09;}&#x0D;&#x0A;&#x09;&#x09;}&#x0D;&#x0A;&#x09;$startNext = $thisPage * $limitBy;&#x0D;&#x0A;&#x09;if($startNext &lt; ($allPages * $limitBy) and $allEntries &gt; $limitBy) &#x0D;&#x0A;&#x09;&#x09;{print &quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;b&gt;&lt;a href=\&quot;&quot;.$PHP_SELF.&quot;?limitStart=&quot;.$startNext.&quot;\&quot;&gt;next&lt;/a&gt;&lt;/b&gt;&amp;nbsp;&quot;;}&#x0D;&#x0A;&#x09;}&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;&lt;?php&#x0D;&#x0A;&#x09;if(!isset($limitStart)){$limitStart = 0;}&#x0D;&#x0A;&#x09;showPageNavigation(130,$limitStart,20);&#x0D;&#x0A;?&gt;</code>
</snippet>
<snippet author="zakj" date_entered="2000-07-20" last_modified="2000-08-29 16:14:28" name="Nested menus" rating="4.49">
<description>Yet another menu-generation class. As the name suggests, it allows for nested menus in addition to normal link items. Comments and suggestions are welcome.</description>
<code>&lt;?php&#x0D;&#x0A;&#x0D;&#x0A;class menu {&#x0D;&#x0A;    var $name;&#x0D;&#x0A;    var $items;&#x0D;&#x0A;    var $open;&#x0D;&#x0A;    var $closed;&#x0D;&#x0A;    var $indent;&#x0D;&#x0A;&#x0D;&#x0A;    function menu($name,&#x0D;&#x0A;                  $open = &apos;(-)&apos;,&#x0D;&#x0A;                  $closed = &apos;(+)&apos;,&#x0D;&#x0A;                  $indent = &apos;&amp;nbsp; &amp;nbsp; &apos;&#x0D;&#x0A;                 )&#x0D;&#x0A;    {&#x0D;&#x0A;        $this-&gt;items  = array();&#x0D;&#x0A;        $this-&gt;name   = $name;&#x0D;&#x0A;        $this-&gt;open   = $open;&#x0D;&#x0A;        $this-&gt;closed = $closed;&#x0D;&#x0A;        $this-&gt;indent = $indent;&#x0D;&#x0A;    }&#x0D;&#x0A;&#x0D;&#x0A;    function add($name, $href = &quot;&quot;, $target = &quot;&quot;) {&#x0D;&#x0A;        $n = count($this-&gt;items);&#x0D;&#x0A;&#x0D;&#x0A;        if (is_object($name)) {&#x0D;&#x0A;            $this-&gt;items[$n] = $name;&#x0D;&#x0A;        } else {&#x0D;&#x0A;            $this-&gt;items[$n][&apos;name&apos;] = $name;&#x0D;&#x0A;            $this-&gt;items[$n][&apos;href&apos;] = $href;&#x0D;&#x0A;            $this-&gt;items[$n][&apos;target&apos;] = $target;&#x0D;&#x0A;        }&#x0D;&#x0A;    }&#x0D;&#x0A;&#x0D;&#x0A;    function show($nest = 0) {&#x0D;&#x0A;        $urlname = strtr($this-&gt;name, &apos; &apos;, &apos;_&apos;);&#x0D;&#x0A;        $indent = &apos;&apos;;&#x0D;&#x0A;        global $$urlname;&#x0D;&#x0A;        global $PHP_SELF;&#x0D;&#x0A;        global $QUERY_STRING;&#x0D;&#x0A;&#x0D;&#x0A;        if ($nest) {&#x0D;&#x0A;            $indent = str_repeat($this-&gt;indent, $nest);&#x0D;&#x0A;        }&#x0D;&#x0A;&#x0D;&#x0A;        if (isset($$urlname)) {&#x0D;&#x0A;            printf(&apos;%s&lt;a href=&quot;%s?%s&quot;&gt;%s&lt;/a&gt;&lt;br&gt;&apos;,&#x0D;&#x0A;                   $indent . $this-&gt;open,&#x0D;&#x0A;                   $PHP_SELF,&#x0D;&#x0A;                   ereg_replace(&quot;{$urlname}=&amp;&quot;, &apos;&apos;, $QUERY_STRING),&#x0D;&#x0A;                   $this-&gt;name);&#x0D;&#x0A;            echo &quot;\n&quot;;&#x0D;&#x0A;&#x0D;&#x0A;            while (list(,$item) = each($this-&gt;items)) {&#x0D;&#x0A;                if (is_object($item)) {&#x0D;&#x0A;                    $item-&gt;show($nest + 1);&#x0D;&#x0A;                } else {&#x0D;&#x0A;                    printf(&apos;%s&lt;a href=&quot;%s&quot;%s&gt;%s&lt;/a&gt;&lt;br&gt;&apos;,&#x0D;&#x0A;                           $indent . $this-&gt;indent,&#x0D;&#x0A;                           $item[&apos;href&apos;],&#x0D;&#x0A;                           (!empty($item[&apos;target&apos;]) ? &apos; target=&quot;&apos; .&#x0D;&#x0A;                                                      $item[&apos;target&apos;] . &apos;&quot;&apos;&#x0D;&#x0A;                                                    : &apos;&apos;),&#x0D;&#x0A;                           $item[&apos;name&apos;]);&#x0D;&#x0A;                    echo &quot;\n&quot;;&#x0D;&#x0A;                }&#x0D;&#x0A;            }&#x0D;&#x0A;        } else {&#x0D;&#x0A;            printf(&apos;%s&lt;a href=&quot;%s?%s=&amp;%s&quot;&gt;%s&lt;/a&gt;&lt;br&gt;&apos;,&#x0D;&#x0A;                   $indent . $this-&gt;closed,&#x0D;&#x0A;                   $PHP_SELF,&#x0D;&#x0A;                   $urlname, $QUERY_STRING,&#x0D;&#x0A;                   $this-&gt;name);&#x0D;&#x0A;            echo &quot;\n&quot;;&#x0D;&#x0A;        }&#x0D;&#x0A;    }&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;?&gt;&#x0D;&#x0A;</code>
</snippet>
<snippet author="nayco" date_entered="2001-09-10" last_modified="2001-10-08 14:45:07" name="Object generating JS rollovers ..." rating="5.00">
<description>maybe a good tutorial ???&#x0D;&#x0A;&#x0D;&#x0A;I took me 2 days to make this, because it&apos;s the first time i use classes in PHP ... I first started to code like in JAVA, and PHP doesn&apos;t use &apos;static&apos; variables or functions in classes... but i finally found !!!&#x0D;&#x0A;maybe some cut/paste/modiiy errors or typos, because i had to generalise the code here (instances name).</description>
<code>&lt;?&#x0D;&#x0A;// nayco@netcourrier.com , http://nayco.free.fr&#x0D;&#x0A;&#x0D;&#x0A;function JS($code)     // enclose the JavaScript code .&#x0D;&#x0A;         {&#x0D;&#x0A;         if (!empty($code))&#x0D;&#x0A;         echo &quot;&lt;script language=\&quot;javascript\&quot;&gt;\n&lt;!--\n$code\n//--&gt;\n&lt;/script&gt;\n&quot;;&#x0D;&#x0A;         }&#x0D;&#x0A;&#x0D;&#x0A;class roll_over&#x0D;&#x0A;         {&#x0D;&#x0A;         var $caption;&#x0D;&#x0A;         var $image;&#x0D;&#x0A;         var $url;&#x0D;&#x0A;         var $ext;&#x0D;&#x0A;         var $roll_liste=array();&#x0D;&#x0A;         var $roll_started=0;&#x0D;&#x0A;&#x0D;&#x0A;         function roll_over($name=&quot;&quot;,$caption=&quot;vide&quot;,$image=&quot;none&quot;,$url=&quot;#&quot;,$ext=&quot;0&quot;) //constructor.&#x0D;&#x0A;                  {&#x0D;&#x0A;                  global $roll_liste;&#x0D;&#x0A;                  &#x0D;&#x0A;                  $this-&gt;name=$name;&#x0D;&#x0A;                  $this-&gt;image=$image;&#x0D;&#x0A;                  $this-&gt;caption=$caption;&#x0D;&#x0A;                  $this-&gt;url=$url;&#x0D;&#x0A;                  $this-&gt;ext=$ext;&#x0D;&#x0A;                  $roll_liste[]=&quot;&apos;images/&quot;.$image.&quot;2.gif&apos;&quot;;&#x0D;&#x0A;                  }&#x0D;&#x0A;&#x0D;&#x0A;         function start()      // Writes the JS functions (copied from dreamweaver ???).&#x0D;&#x0A;                 {&#x0D;&#x0A;                 global $roll_started;&#x0D;&#x0A;                 $code= &lt;&lt;&lt;FDT&#x0D;&#x0A;                 function MM_preloadImages() { //v3.0&#x0D;&#x0A;                    var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();&#x0D;&#x0A;                    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i&lt;a.length; i++)&#x0D;&#x0A;                    if (a[i].indexOf(&quot;#&quot;)!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}&#x0D;&#x0A;                    }&#x0D;&#x0A;&#x0D;&#x0A;                 function MM_swapImgRestore() { //v3.0&#x0D;&#x0A;                   var i,x,a=document.MM_sr; for(i=0;a&amp;&amp;i&lt;a.length&amp;&amp;(x=a[i])&amp;&amp;x.oSrc;i++) x.src=x.oSrc;&#x0D;&#x0A;                   }&#x0D;&#x0A;&#x0D;&#x0A;                 function MM_findObj(n, d) { //v3.0&#x0D;&#x0A;                   var p,i,x;  if(!d) d=document; if((p=n.indexOf(&quot;?&quot;))&gt;0&amp;&amp;parent.frames.length) {&#x0D;&#x0A;                   d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}&#x0D;&#x0A;                   if(!(x=d[n])&amp;&amp;d.all) x=d.all[n]; for (i=0;!x&amp;&amp;i&lt;d.forms.length;i++) x=d.forms[i][n];&#x0D;&#x0A;                   for(i=0;!x&amp;&amp;d.layers&amp;&amp;i&lt;d.layers.length;i++) x=MM_findObj(n,d.layers[i].document); return x;&#x0D;&#x0A;                   }&#x0D;&#x0A;&#x0D;&#x0A;                 function MM_swapImage() { //v3.0&#x0D;&#x0A;                   var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i&lt;(a.length-2);i+=3)&#x0D;&#x0A;                   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}&#x0D;&#x0A;                   }&#x0D;&#x0A;FDT;&#x0D;&#x0A;                 if (!$roll_started)&#x0D;&#x0A;                      {&#x0D;&#x0A;                      $roll_started=1;&#x0D;&#x0A;                      JS($code);&#x0D;&#x0A;                      }&#x0D;&#x0A;                 }     // end of start_rollover.&#x0D;&#x0A;&#x0D;&#x0A;         function liste()  displays the &apos;onload&apos; line.&#x0D;&#x0A;                 {&#x0D;&#x0A;                 global $roll_liste;&#x0D;&#x0A;                 $out=&quot;onload=\&quot;MM_preloadImages(&quot;;&#x0D;&#x0A;                 $out.=implode(&quot;,&quot;,$roll_liste);&#x0D;&#x0A;                 $out.=&quot;);\&quot;&quot;;&#x0D;&#x0A;                 echo $out;&#x0D;&#x0A;                 }&#x0D;&#x0A;&#x0D;&#x0A;         function affiche() //displays the rollover&apos;ed link&#x0D;&#x0A;                  {&#x0D;&#x0A;                  if ($this-&gt;ext)&#x0D;&#x0A;                    $ext=&quot; target=\&quot;_blank\&quot;&quot;;&#x0D;&#x0A;                  echo &quot;&#x0D;&#x0A;                  &lt;a href=\&quot;$this-&gt;url\&quot; onMouseOut=\&quot;MM_swapImgRestore()\&quot; onMouseOver=\&quot;MM_swapImage(&apos;$this-&gt;name&apos;,&apos;&apos;,&apos;images/&quot;.$this-&gt;image.&quot;2.gif&apos;,1)\&quot;$ext&gt;&#x0D;&#x0A;                  &lt;img src=\&quot;images/&quot;.$this-&gt;image.&quot;.gif\&quot; width=\&quot;42\&quot; height=\&quot;24\&quot; border=\&quot;0\&quot; alt=\&quot;$this-&gt;caption\&quot; name=\&quot;$this-&gt;name\&quot;&gt;&lt;br&gt;$this-&gt;caption&lt;/a&gt;&#x0D;&#x0A;                  &quot;;&#x0D;&#x0A;                  }&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;         }       // end of roll_over class&#x0D;&#x0A;&#x0D;&#x0A;?&gt;</code>
</snippet>
<snippet author="tebrino" date_entered="2003-07-01" last_modified="2003-09-04 00:28:27" name="Page Numbers" rating="4.00">
<description>This script enables you to create page number links and previous / next links.&#x0D;&#x0A;It is useful when displaying search results or large amount of data.&#x0D;&#x0A;It also allows user to choose how many records to display per page.&#x0D;&#x0A;To use it simply replace MySQL queries with your own. With small changes&#x0D;&#x0A;you can use it with any database server. &#x0D;&#x0A;If you have any questions, comments, or if you find any bugs please feel free to contact me:&#x0D;&#x0A;Author: Ilir Fekaj&#x0D;&#x0A;Contact: tebrino@hotmail.com&#x0D;&#x0A;Created: July 01. 2003.&#x0D;&#x0A;Modified: July 01. 2003.&#x0D;&#x0A;If you like it, use it, you can also give me a credit</description>
<code>&lt;?php&#x0D;&#x0A;/*&#x0D;&#x0A;This script enables you to create page number links and previous / next links.&#x0D;&#x0A;It is useful when displaying search results or large amount of data.&#x0D;&#x0A;It also allows user to choose how many records to display per page.&#x0D;&#x0A;To use it simply replace MySQL queries with your own. With small changes&#x0D;&#x0A;you can use it with any database server. &#x0D;&#x0A;If you have any questions, comments, or if you find any bugs please feel free to contact me:&#x0D;&#x0A;Author: Ilir Fekaj&#x0D;&#x0A;Contact: tebrino@hotmail.com&#x0D;&#x0A;Created: July 01. 2003.&#x0D;&#x0A;Modified: July 01. 2003.&#x0D;&#x0A;If you like it, use it, you can also give me a credit.&#x0D;&#x0A;*/&#x0D;&#x0A;&#x0D;&#x0A;// config-------------------------------------&#x0D;&#x0A;$host = &quot;localhost&quot;; //your database host&#x0D;&#x0A;$user = &quot;username&quot;; // your database user name&#x0D;&#x0A;$pass = &quot;password&quot;; // your database password&#x0D;&#x0A;$db = &quot;database_name&quot;; // your database name&#x0D;&#x0A;&#x0D;&#x0A;$filename = &quot;your_file_name.php&quot;; // name of this file&#x0D;&#x0A;$option = array (5, 10, 25, 50, 100, 200);&#x0D;&#x0A;$default = 25; // default number of records per page&#x0D;&#x0A;$action = $_SERVER[&apos;PHP_SELF&apos;]; // if this doesn&apos;t work, enter the filename&#x0D;&#x0A;// end config---------------------------------&#x0D;&#x0A;&#x0D;&#x0A;$opt_cnt = count ($option);&#x0D;&#x0A;&#x0D;&#x0A;$go = $_GET[&apos;go&apos;];&#x0D;&#x0A;if ($go == &quot;&quot;) {&#x0D;&#x0A;$go = $default;&#x0D;&#x0A;}&#x0D;&#x0A;elseif (!in_array ($go, $option)) {&#x0D;&#x0A;$go = $default;&#x0D;&#x0A;}&#x0D;&#x0A;elseif (!is_numeric ($go)) {&#x0D;&#x0A;$go = $default;&#x0D;&#x0A;}&#x0D;&#x0A;$nol = $go;&#x0D;&#x0A;$limit = &quot;0, $nol&quot;;&#x0D;&#x0A;$count = 1;&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;echo &quot;&lt;form name=\&quot;form1\&quot; id=\&quot;form1\&quot; method=\&quot;get\&quot; action=\&quot;$action\&quot;&gt;\r\n&quot;;&#x0D;&#x0A;echo &quot;&lt;select name=\&quot;go\&quot; id=\&quot;go\&quot;&gt;\r\n&quot;;&#x0D;&#x0A;&#x0D;&#x0A;for ($i = 0; $i &lt;= $opt_cnt; $i ++) {&#x0D;&#x0A;if ($option[$i] == $go) {&#x0D;&#x0A;echo &quot;&lt;option value=\&quot;&quot;.$option[$i].&quot;\&quot; selected=\&quot;selected\&quot;&gt;&quot;.$option[$i].&quot;&lt;/option&gt;\r\n&quot;;&#x0D;&#x0A;} else {&#x0D;&#x0A;echo &quot;&lt;option value=\&quot;&quot;.$option[$i].&quot;\&quot;&gt;&quot;.$option[$i].&quot;&lt;/option&gt;\r\n&quot;;&#x0D;&#x0A;}&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;echo &quot;&lt;/select&gt;\r\n&quot;;&#x0D;&#x0A;echo &quot;&lt;input type=\&quot;submit\&quot; name=\&quot;Submit2\&quot; id=\&quot;Submit2\&quot; value=\&quot;Go\&quot; /&gt;\r\n&quot;;&#x0D;&#x0A;echo &quot;&lt;/form&gt;\r\n&quot;;&#x0D;&#x0A;&#x0D;&#x0A;$connection = mysql_connect ($host, $user, $pass) or die (&quot;Unable to connect&quot;);&#x0D;&#x0A;mysql_select_db ($db) or die (&quot;Unable to select database $db&quot;);&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;// control query------------------------------&#x0D;&#x0A;/* this query checks how many records you have in your table.&#x0D;&#x0A;change this to match your own table*/&#x0D;&#x0A;$off_sql = mysql_query (&quot;SELECT * FROM table_name&quot;) or die (&quot;Error in query: $off_sql&quot;.mysql_error());&#x0D;&#x0A;$off_pag = ceil (mysql_num_rows($off_sql) / $nol);&#x0D;&#x0A;//--------------------------------------------&#x0D;&#x0A;&#x0D;&#x0A;$off = $_GET[&apos;offset&apos;];&#x0D;&#x0A;if (get_magic_quotes_gpc() == 0) {&#x0D;&#x0A;$off = addslashes ($off);&#x0D;&#x0A;}&#x0D;&#x0A;if (!is_numeric ($off)) {&#x0D;&#x0A;$off = 1;&#x0D;&#x0A;}&#x0D;&#x0A;if ($off &gt; $off_pag) {&#x0D;&#x0A;$off = 1;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;if ($off == &quot;1&quot;) {&#x0D;&#x0A;$limit = &quot;0, $nol&quot;;&#x0D;&#x0A;}&#x0D;&#x0A;elseif ($off &lt;&gt; &quot;&quot;) {&#x0D;&#x0A;for ($i = 0; $i &lt;= ($off - 1) * $nol; $i ++) {&#x0D;&#x0A;$e = 0 + $i;&#x0D;&#x0A;$limit = &quot;$e, $nol&quot;;&#x0D;&#x0A;$count = $e + 1;&#x0D;&#x0A;}&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// Query to extract records from database. Change this to match your own table, but leave &quot;LIMIT $limit&quot; part unchanged.&#x0D;&#x0A;$sql = mysql_query (&quot;SELECT title, url FROM table_name ORDER BY title LIMIT $limit&quot;) or die (&quot;Error in query: $sql&quot;.mysql_error());&#x0D;&#x0A;&#x0D;&#x0A;while ($row = mysql_fetch_object($sql)) {&#x0D;&#x0A;echo &quot;$count. &lt;a href=\&quot;$row-&gt;url\&quot;&gt;$row-&gt;title&lt;/a&gt;&lt;br /&gt;\r\n&quot;; // this is example, you may enter here anything you like&#x0D;&#x0A;$count += 1;&#x0D;&#x0A;}&#x0D;&#x0A;echo &quot;&lt;br /&gt;&lt;br /&gt;\r\n&quot;;&#x0D;&#x0A;if ($off &lt;&gt; 1) {&#x0D;&#x0A;$prev = $off - 1;&#x0D;&#x0A;echo &quot;[ &amp;lt; &lt;a href=\&quot;$filename?offset=$prev&amp;amp;go=$go\&quot;&gt;prev&lt;/a&gt; ] \r\n&quot;;&#x0D;&#x0A;}&#x0D;&#x0A;for ($i = 1; $i &lt;= $off_pag; $i ++) {&#x0D;&#x0A;if ($i == $off) {&#x0D;&#x0A;echo &quot;[&lt;b&gt; $i &lt;/b&gt;] \r\n&quot;;&#x0D;&#x0A;} else {&#x0D;&#x0A;echo &quot;[ &lt;a href=\&quot;$filename?offset=$i&amp;amp;go=$go\&quot;&gt;$i&lt;/a&gt; ] \r\n&quot;;&#x0D;&#x0A;}&#x0D;&#x0A;}&#x0D;&#x0A;if ($off &lt; $off_pag) {&#x0D;&#x0A;$next = $off + 1;&#x0D;&#x0A;echo &quot;[ &lt;a href=\&quot;$filename?offset=$next&amp;amp;go=$go\&quot;&gt;next&lt;/a&gt; &amp;gt; ] \r\n&quot;;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;echo &quot;&lt;br /&gt;&lt;br /&gt;\r\n&quot;;&#x0D;&#x0A;echo &quot;Page $off of $off_pag&lt;br /&gt;\r\n&quot;;&#x0D;&#x0A;?&gt;</code>
</snippet>
<snippet author="mbourque" date_entered="2005-01-24" last_modified="2005-01-25 12:28:17" name="PHP Tabs" rating="1.00">
<description>This little script will allow you to add tabs to the tops of your pages.</description>
<code>&lt;?&#x0D;&#x0A;&#x0D;&#x0A;import_request_variables(&quot;G&quot;,&quot;&quot;);&#x0D;&#x0A;&#x0D;&#x0A;$tabArray[&apos;Yahoo&apos;] = &quot;http://www.yahoo.com&quot;;&#x0D;&#x0A;$tabArray[&apos;PHP&apos;] = &quot;http://www.abc.com&quot;;&#x0D;&#x0A;$tabArray[&apos;Ask&apos;] = &quot;http://www.ask.com&quot;;&#x0D;&#x0A;&#x0D;&#x0A;print_tab_interface($tabArray, $activeTab );&#x0D;&#x0A;&#x0D;&#x0A;function print_tab_interface( $tabArray, $activeTab=&quot;Yahoo&quot; ) {&#x0D;&#x0A;&#x0D;&#x0A;   // Configurable tab interface written in PHP&#x0D;&#x0A;   // Written by Michael P. Bourque&#x0D;&#x0A;   // michael@mbourque.com&#x0D;&#x0A;   // Please let me know if you use this.&#x0D;&#x0A;&#x0D;&#x0A;   $tab_table_width = &quot;100%&quot;;&#x0D;&#x0A;&#x0D;&#x0A;   $spacer = &quot;http://www.geocities.com/mbourque/scripts/graydot.gif&quot;;&#x0D;&#x0A;&#x0D;&#x0A;   print &quot;&lt;style&gt;&quot;;&#x0D;&#x0A;   print &quot;.tabSelected&quot;;&#x0D;&#x0A;   print &quot;{&quot;;&#x0D;&#x0A;   print &quot;font-family:Arial,Veranda;&quot;;&#x0D;&#x0A;   print &quot;font-size:9pt;&quot;;&#x0D;&#x0A;   print &quot;padding-left:10px;&quot;;&#x0D;&#x0A;   print &quot;padding-right:10px;&quot;;&#x0D;&#x0A;   print &quot;padding-top:0px;&quot;;&#x0D;&#x0A;   print &quot;padding-bottom:0px;&quot;;&#x0D;&#x0A;   print &quot;background-color:#FFFFFF;&quot;;&#x0D;&#x0A;   print &quot;}&quot;;&#x0D;&#x0A;&#x0D;&#x0A;   print &quot;.tabDefault&quot;;&#x0D;&#x0A;   print &quot;{&quot;;&#x0D;&#x0A;   print &quot;font-family:Arial,Veranda;&quot;;&#x0D;&#x0A;   print &quot;font-size:9pt;&quot;;&#x0D;&#x0A;   print &quot;padding-left:10px;&quot;;&#x0D;&#x0A;   print &quot;padding-right:10px;&quot;;&#x0D;&#x0A;   print &quot;padding-top:0px;&quot;;&#x0D;&#x0A;   print &quot;padding-bottom:0px;&quot;;&#x0D;&#x0A;   print &quot;background-color:#F5F5F5;&quot;;&#x0D;&#x0A;   print &quot;}&quot;;&#x0D;&#x0A;&#x0D;&#x0A;   print &quot;&lt;/style&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;   print &quot;&lt;table width=\&quot;$tab_table_width\&quot; height=\&quot;22\&quot; border=\&quot;0\&quot; cellpadding=\&quot;0\&quot; cellspacing=\&quot;0\&quot;&gt;&quot;;&#x0D;&#x0A;   print &quot; &lt;tr&gt;&quot;;&#x0D;&#x0A;   print &quot;  &lt;td rowspan=\&quot;3\&quot; height=\&quot;22\&quot; valign=\&quot;bottom\&quot; width=\&quot;12\&quot;&gt;&lt;img src=\&quot;$spacer\&quot; alt=\&quot;\&quot; width=\&quot;12\&quot; height=\&quot;1\&quot;&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;   foreach ( $tabArray as $key =&gt; $tab ) {&#x0D;&#x0A;      print &quot;  &lt;td rowspan=\&quot;3\&quot; width=\&quot;1\&quot; height=\&quot;22\&quot;&gt;&lt;img src=\&quot;$spacer\&quot; alt=\&quot;\&quot; height=\&quot;22\&quot; width=\&quot;1\&quot;&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;      print &quot;  &lt;td valign=\&quot;top\&quot; height=\&quot;1\&quot;&gt;&lt;img src=\&quot;$spacer\&quot; alt=\&quot;\&quot; height=\&quot;1\&quot; width=\&quot;100%\&quot;&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;      print &quot;  &lt;td rowspan=\&quot;3\&quot; width=\&quot;1\&quot; height=\&quot;22\&quot;&gt;&lt;img src=\&quot;$spacer\&quot; alt=\&quot;\&quot; height=\&quot;22\&quot; width=\&quot;1\&quot;&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;      print &quot;  &lt;td rowspan=\&quot;3\&quot; valign=\&quot;bottom\&quot; width=\&quot;5\&quot; height=\&quot;22\&quot;&gt;&lt;img src=\&quot;$spacer\&quot; alt=\&quot;\&quot; height=\&quot;1\&quot; width=\&quot;5\&quot; /&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;   }&#x0D;&#x0A;&#x0D;&#x0A;   print &quot; &lt;/tr&gt;&quot;;&#x0D;&#x0A;   print &quot;  &lt;tr&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;   foreach ( $tabArray as $key =&gt; $tab ) { // Print tabs&#x0D;&#x0A;&#x0D;&#x0A;      $class = ($key==$activeTab) ? &quot;tabSelected&quot; : &quot;tabDefault&quot;;&#x0D;&#x0A;      $link = &quot;&lt;a href=\&quot;$PHP_SELF?activeTab=$key\&quot;&gt;&quot;.$key.&quot;&lt;/a&gt;&quot;;&#x0D;&#x0A;      print &quot;   &lt;td height=\&quot;20\&quot; nowrap align=\&quot;center\&quot; class=\&quot;$class\&quot;&gt;$link&lt;/td&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;   }&#x0D;&#x0A;&#x0D;&#x0A;   print &quot; &lt;/tr&gt;&quot;;&#x0D;&#x0A;   print &quot;  &lt;tr&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;   foreach ( $tabArray as $key =&gt; $tab ) {&#x0D;&#x0A;&#x0D;&#x0A;       if ( $key == $activeTab ) {&#x0D;&#x0A;         print &quot;   &lt;td height=\&quot;1\&quot; bgcolor=\&quot;#ffffff\&quot;&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;       } else {&#x0D;&#x0A;         print &quot;   &lt;td height=\&quot;1\&quot; valign=\&quot;bottom\&quot;&gt;&lt;img width=\&quot;100%\&quot; height=\&quot;1\&quot; src=\&quot;$spacer\&quot; alt=\&quot;\&quot;&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;       }&#x0D;&#x0A;&#x0D;&#x0A;   }&#x0D;&#x0A;&#x0D;&#x0A;   print &quot;   &lt;td height=\&quot;1\&quot; valign=\&quot;bottom\&quot;&gt;&lt;img width=\&quot;100%\&quot; height=\&quot;1\&quot; src=\&quot;$spacer\&quot; alt=\&quot;\&quot;&gt;&lt;/td&gt;&quot;;&#x0D;&#x0A;   print &quot;  &lt;/tr&gt;&quot;;&#x0D;&#x0A;   print &quot;&lt;/table&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;   include($tabArray[$activeTab]);&#x0D;&#x0A;}&#x0D;&#x0A;</code>
</snippet>
<snippet author="steo" date_entered="2003-07-13" last_modified="2003-07-14 01:30:23" name="PHP-ACTION WRAPPER 0.2" rating="0.00">
<description>PHP code for easy pass a long list of boolean variable over the pages.</description>
<code>&lt;?&#x0D;&#x0A;print &apos;&lt;B&gt;QUERY_STRING&lt;/B&gt;: &lt;I&gt;&apos;.getenv(&apos;QUERY_STRING&apos;).&apos;&lt;/I&gt;&lt;BR&gt;&lt;BR&gt;&apos;;&#x0D;&#x0A;&#x0D;&#x0A;$subaction = array();&#x0D;&#x0A;&#x0D;&#x0A;if (isset($_REQUEST[&apos;action&apos;])) &#x0D;&#x0A;&#x09;{&#x0D;&#x0A;&#x09;$subpos = strpos($action, &apos;.&apos;);&#x0D;&#x0A;&#x09;if ($subpos) &#x0D;&#x0A;&#x09;&#x09;{&#x0D;&#x0A;&#x09;&#x09;$subaction = explode(&apos;.&apos;, substr($action, $subpos+1));&#x0D;&#x0A;&#x09;&#x09;$action = substr($action, 0, $subpos);&#x0D;&#x0A;&#x09;&#x09;for ($i = 0; $i &lt; count($subaction); $i++) $subactionvar[$subaction[$i]] = TRUE;&#x0D;&#x0A;&#x09;&#x09;extract ($subactionvar, EXTR_PREFIX_ALL, &apos;subaction&apos;);&#x0D;&#x0A;&#x09;&#x09;}&#x0D;&#x0A;&#x09;} &#x0D;&#x0A;else &#x0D;&#x0A;&#x09;$action = &apos;default&apos;;&#x0D;&#x0A;&#x0D;&#x0A;print &apos;&lt;b&gt;Action:&lt;/b&gt;&apos;.$action.&apos;&lt;BR&gt;&lt;BR&gt;&apos;;&#x0D;&#x0A;&#x0D;&#x0A;if ($subaction) &#x0D;&#x0A;&#x09;for ($i = 0; $i &lt; count($subaction); $i++) &#x0D;&#x0A;&#x09;&#x09;print &quot;&lt;DL&gt;&lt;DT&gt;&lt;b&gt;SubAction[$i]:&lt;/b&gt; $subaction[$i] &lt;DD&gt;\$subaction_$subaction[$i] = TRUE&lt;/DL&gt;&quot;;&#x0D;&#x0A;?&gt;&#x0D;&#x0A;</code>
</snippet>
<snippet author="vardhan" date_entered="2005-03-04" last_modified="2005-03-09 01:34:25" name="Recursive menu" rating="3.88">
<description>A demonstration of how you can quickly edit your navigation menu (sub-menu, sub-sub-menu, sub-sub-sub-menu, sub...) and display them dynamically with PHP using a Multidimensional array and a recursive function.</description>
<code>&lt;?php&#x0D;&#x0A;&#x0D;&#x0A;/*&#x0D;&#x0A;&#x0D;&#x0A;&#x09;---------------------------&#x0D;&#x0A;&#x09;Author: Vardhan&#x0D;&#x0A;&#x09;Date: March 03rd, 2005&#x0D;&#x0A;&#x09;---------------------------&#x0D;&#x0A;&#x0D;&#x0A;&#x09;A navigation menu displayed using a recursive menu.&#x0D;&#x0A;&#x09;Comments are not used to explain the code, so insted I will explain it here.&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;$menu is an array with the menu.&#x0D;&#x0A;&#x09;everytime you create another dimension on $menu, it creates a submenu.&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;for example, the $menu array below has 2 submenus under tutorials: php, java&#x0D;&#x0A;&#x09;PHP and Java both have submenus under them: Language, Databases, Networking, CLI, Other&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;If the value of a key in $menu is an array(), it will create a submenu.&#x0D;&#x0A;&#x09;If its not, it&apos;ll create a link, where the link address is the value.&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;diplay_menu() takes 1 argument: $m&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;$m is an array of all the items and links an array has.&#x0D;&#x0A;&#x09;In this case, our array is the $menu&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;Everytime there is an array() in the $menu, it creates a &lt;ul&gt; inside the &lt;li&gt; to make a sub menu, and calls it self (recursitivity) passing the array.&#x0D;&#x0A;&#x09;This keeps going on and on until all array()s are encountered.&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;Sorry if the explanation above is unclear.&#x0D;&#x0A;&#x09;Hopeful, my code is clear enough to understand.&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;You can use CSS to edit any line indentions.&#x0D;&#x0A;&#x09;You can use javascript to expand/collapse the menus.&#x09;&#x0D;&#x0A;*/&#x0D;&#x0A;&#x0D;&#x0A;$menu=array();&#x0D;&#x0A;$menu[&quot;home&quot;]=&quot;#&quot;;&#x0D;&#x0A;$menu[&quot;tutorials&quot;]=array();&#x0D;&#x0A;$menu[&quot;tutorials&quot;][&quot;php&quot;]=array();&#x0D;&#x0A;$menu[&quot;tutorials&quot;][&quot;php&quot;][&quot;Language&quot;]=&quot;#&quot;;&#x0D;&#x0A;$menu[&quot;tutorials&quot;][&quot;php&quot;][&quot;Databases&quot;]=&quot;#&quot;;&#x0D;&#x0A;$menu[&quot;tutorials&quot;][&quot;php&quot;][&quot;Networking&quot;]=&quot;#&quot;;&#x0D;&#x0A;$menu[&quot;tutorials&quot;][&quot;php&quot;][&quot;CLI&quot;]=&quot;#&quot;;&#x0D;&#x0A;$menu[&quot;tutorials&quot;][&quot;php&quot;][&quot;Other&quot;]=&quot;#&quot;;&#x0D;&#x0A;$menu[&quot;tutorials&quot;][&quot;java&quot;]=array();&#x0D;&#x0A;$menu[&quot;tutorials&quot;][&quot;java&quot;][&quot;Language&quot;]=&quot;#&quot;;&#x0D;&#x0A;$menu[&quot;tutorials&quot;][&quot;java&quot;][&quot;Databases&quot;]=&quot;#&quot;;&#x0D;&#x0A;$menu[&quot;tutorials&quot;][&quot;java&quot;][&quot;Networking&quot;]=&quot;#&quot;;&#x0D;&#x0A;$menu[&quot;tutorials&quot;][&quot;java&quot;][&quot;CLI&quot;]=&quot;#&quot;;&#x0D;&#x0A;$menu[&quot;tutorials&quot;][&quot;java&quot;][&quot;Other&quot;]=&quot;#&quot;;&#x0D;&#x0A;$menu[&quot;forums&quot;]=&quot;#&quot;;&#x0D;&#x0A;&#x0D;&#x0A;function display_menu($m) {&#x0D;&#x0A;&#x09;foreach ($m as $section =&gt; $link) {&#x0D;&#x0A;&#x09;&#x09;if (!is_array($link))&#x0D;&#x0A;&#x09;&#x09;&#x09;echo &quot;&lt;ul&gt;&lt;li&gt;&lt;a href=&apos;{$link}&apos;&gt;{$section}&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&quot;;&#x0D;&#x0A;&#x09;&#x09;else {&#x0D;&#x0A;&#x09;&#x09;&#x09;echo &quot;&lt;ul&gt;&lt;li&gt;{$section}&quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;display_menu($link);&#x0D;&#x0A;&#x09;&#x09;&#x09;echo &apos;&lt;/li&gt;&lt;/ul&gt;&apos;;&#x0D;&#x0A;&#x09;&#x09;} // end of else&#x0D;&#x0A;&#x09;} // end of foreach loop&#x0D;&#x0A;} // end of function&#x0D;&#x0A;&#x0D;&#x0A;display_menu($menu);&#x0D;&#x0A;&#x0D;&#x0A;?&gt;</code>
</snippet>
<snippet author="jeffreyharrell" date_entered="2004-01-23" last_modified="2004-01-31 02:14:43" name="Search Engine Safe URL Parser" rating="2.67">
<description>Add this to the top of your page and it will allow you to create search engine safe urls like so: thispage.php/this/equalsthis/andthat/equalsthat</description>
<code>// split up extra href to get variables&#x0D;&#x0A;$vars = explode(&apos;/&apos;, $_SERVER[&apos;PATH_INFO&apos;]); &#x0D;&#x0A;array_shift($vars);&#x0D;&#x0A;reset($vars);&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;// convert vars into php variables&#x0D;&#x0A;for ($i=0; $i&lt;count($vars); $i=$i+2) {&#x0D;&#x0A;&#x09;$key = $vars[$i];&#x0D;&#x0A;&#x09;$value = $vars[$i + 1];&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;// avoid  super long input&#x0D;&#x0A;&#x09;$string_max_length = 100;&#x0D;&#x0A;&#x09;$key = substr($key, 0, $string_max_length);&#x0D;&#x0A;&#x09;$value = substr($value, 0, $string_max_length);&#x0D;&#x0A;&#x09;&#x0D;&#x0A;&#x09;// evaluate as variables&#x0D;&#x0A;&#x09;eval(&quot;$\$key = \$value;&quot;);&#x0D;&#x0A;}</code>
</snippet>
<snippet author="hermawan" date_entered="2001-04-04" last_modified="2001-04-13 08:31:19" name="show result with paging and staging" rating="4.83">
<description>You have a query results number about 100000 record, then what you should do to view all of them ?, paging ?...yah good, but how many page would it shown in your page if every page is only view 100 record ? 1000 link page ? get real!!!.</description>
<code>&lt;?php&#x0D;&#x0A;/*&#x0D;&#x0A; * myPageNumber Function&#x0D;&#x0A; * Author : Hermawan Haryanto&#x0D;&#x0A; * Nick : Teo Danardi, mas_edo&#x0D;&#x0A; * Create date : 02/02/2001&#x0D;&#x0A; * Update date : 03/20/2001&#x0D;&#x0A;*/&#x0D;&#x0A;Function myPageNumber($nowstage,$startpage,$allpage,$nowpage,$pageperstage,$allstage)&#x0D;&#x0A;{&#x0D;&#x0A;  if(trim($nowpage)&gt;1)&#x0D;&#x0A;  {&#x0D;&#x0A;    $links.=&quot;&amp;nbsp;&lt;a href=&apos;$PHP_SELF?nowstage=1&amp;nowpage=1&apos;&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/a&gt;&amp;nbsp;\n&quot;;&#x0D;&#x0A;  }&#x0D;&#x0A;  if(trim($nowstage)&gt;1)&#x0D;&#x0A;  {&#x0D;&#x0A;    $links.=&quot;&amp;nbsp;&lt;a href=&apos;$PHP_SELF?nowstage=&quot;.($nowstage-1).&quot;&amp;nowpage=&quot;.((($nowstage-1)*$pageperstage)-($pageperstage-1)).&quot;&apos;&gt;&amp;lt;&amp;lt;&lt;/a&gt;&amp;nbsp;\n&quot;;&#x0D;&#x0A;  }&#x0D;&#x0A;  for($i=$startpage;$i&lt;=$allpage;$i++)&#x0D;&#x0A;  {&#x0D;&#x0A;    if(trim($nowpage)==&quot;&quot;)&#x0D;&#x0A;    {&#x0D;&#x0A;      $nowpage=$startpage;&#x0D;&#x0A;    }&#x0D;&#x0A;    $endpage=(($startpage+$pageperstage)-1);&#x0D;&#x0A;    if($i&gt;=$startpage&amp;&amp;$i&lt;=$endpage&amp;&amp;$i&lt;=$allpage)&#x0D;&#x0A;    {&#x0D;&#x0A;      if($nowpage!=((($nowstage-1)*$pageperstage)+$i)&amp;&amp;$i==$startpage&amp;&amp;$nowpage&gt;$startpage)&#x0D;&#x0A;      {&#x0D;&#x0A;        $links=$links.&quot;&amp;nbsp;&lt;a href=&apos;$PHP_SELF?nowstage=$nowstage&amp;nowpage=&quot;.($nowpage-1).&quot;&apos;&gt;&amp;lt;&lt;/a&gt;&amp;nbsp;\n&quot;;&#x0D;&#x0A;      }&#x0D;&#x0A;      if(((($nowstage-1)*$pageperstage)+$i)==$nowpage&amp;&amp;((($nowstage-1)*$pageperstage)+$i)&lt;=$allpage)&#x0D;&#x0A;      {&#x0D;&#x0A;        $links=$links.&quot;&amp;nbsp;&lt;b&gt;&quot;.((($nowstage-1)*$pageperstage)+$i).&quot;&lt;/b&gt;&amp;nbsp;&quot;;&#x0D;&#x0A;      }&#x0D;&#x0A;      if(((($nowstage-1)*$pageperstage)+$i)!=$nowpage&amp;&amp;((($nowstage-1)*$pageperstage)+$i)&lt;=$allpage)&#x0D;&#x0A;      {&#x0D;&#x0A;        $links=$links.&quot;&amp;nbsp;&lt;a href=&apos;$PHP_SELF?nowstage=$nowstage&amp;nowpage=&quot;.((($nowstage-1)*$pageperstage)+$i).&quot;&apos;&gt;&quot;.((($nowstage-1)*$pageperstage)+$i).&quot;&lt;/a&gt;&amp;nbsp;\n&quot;;&#x0D;&#x0A;      }&#x0D;&#x0A;      if(($i==$endpage||$i==$allpage)&amp;&amp;$nowpage!=((($nowstage-1)*$pageperstage)+$i)&amp;&amp;$allpage&gt;$nowpage)&#x0D;&#x0A;      {&#x0D;&#x0A;        $links=$links.&quot;&amp;nbsp; &lt;a href=&apos;$PHP_SELF?nowstage=$nowstage&amp;nowpage=&quot;.($nowpage+1).&quot;&apos;&gt;&amp;gt;&lt;/a&gt;&amp;nbsp;\n&quot;;&#x0D;&#x0A;      }&#x0D;&#x0A;    }&#x0D;&#x0A;  }&#x0D;&#x0A;  if($nowstage&lt;$allstage)&#x0D;&#x0A;  {&#x0D;&#x0A;    $links=$links. &quot;&amp;nbsp;&lt;a href=&apos;$PHP_SELF?nowstage=&quot;.($nowstage+1).&quot;&amp;nowpage=&quot;.(($nowstage*$pageperstage)+1).&quot;&apos;&gt;&amp;gt;&amp;gt;&lt;/a&gt;&amp;nbsp;\n&quot;;&#x0D;&#x0A;  }&#x0D;&#x0A;  if($nowpage&lt;$allpage)&#x0D;&#x0A;  {&#x0D;&#x0A;    $links.=&quot;&amp;nbsp;&lt;a href=&apos;$PHP_SELF?nowstage=&quot;.$allstage.&quot;&amp;nowpage=&quot;.$allpage.&quot;&apos;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/a&gt;&amp;nbsp;\n&quot;;&#x0D;&#x0A;  }&#x0D;&#x0A;return $links;&#x0D;&#x0A;}&#x0D;&#x0A;$number=&quot;100&quot;;&#x09;&#x09;&#x09;&#x09;// record results selected from database&#x0D;&#x0A;$displayperpage=&quot;5&quot;;&#x09;&#x09;&#x09;&#x09;// record displayed per page&#x0D;&#x0A;$pageperstage=&quot;5&quot;;&#x09;&#x09;&#x09;&#x09;// page displayed per stage&#x0D;&#x0A;$allpage=ceil($number/$displayperpage);&#x09;&#x09;// how much page will it be ?&#x0D;&#x0A;$allstage=ceil($allpage/$pageperstage);&#x09;&#x09;// how many page will it be ?&#x0D;&#x0A;if(trim($startpage)==&quot;&quot;){$startpage=1;}&#x0D;&#x0A;if(trim($nowstage)==&quot;&quot;){$nowstage=1;}&#x0D;&#x0A;if(trim($nowpage)==&quot;&quot;){$nowpage=$startpage;}&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&#x0D;&#x0A;&lt;font face=tahoma size=2&gt;&#x0D;&#x0A;Records result from query statement : &lt;b&gt;&lt;?=$number;?&gt;&lt;/b&gt; record.&lt;br&gt;&#x0D;&#x0A;Want to show &lt;b&gt;&lt;?=$displayperpage;?&gt;&lt;/b&gt; in every page.&lt;br&gt;&#x0D;&#x0A;Want to show only &lt;b&gt;&lt;?=$pageperstage;?&gt;&lt;/b&gt; page on every stage.&lt;br&gt;&#x0D;&#x0A;Then there would be &lt;b&gt;&lt;?=$allpage;?&gt;&lt;/b&gt; page of results.&lt;br&gt;&#x0D;&#x0A;And there would be &lt;b&gt;&lt;?=$allstage;?&gt;&lt;/b&gt; stage of pages.&lt;br&gt;&lt;br&gt;&#x0D;&#x0A;&lt;b&gt;PAGING&lt;/b&gt; : &lt;?=myPageNumber($nowstage,$startpage,$allpage,$nowpage,$pageperstage,$allstage);;?&gt;&lt;br&gt;&#x0D;&#x0A;&lt;b&gt;Stage&lt;/b&gt; &lt;?=$nowstage.&quot; of &quot;.$allstage;?&gt;&lt;br&gt;&lt;b&gt;Page&lt;/b&gt; &lt;?=$nowpage.&quot; of &quot;.$allpage;?&gt;&lt;br&gt;&#x0D;&#x0A;&lt;?php&#x0D;&#x0A;for($i=1;$i&lt;=$displayperpage;$i++)&#x0D;&#x0A;{&#x0D;&#x0A;  echo &quot;&lt;br&gt;&quot;.((($nowpage-1)*$displayperpage)+$i);&#x0D;&#x0A;}&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&lt;/font&gt;</code>
</snippet>
<snippet author="linuxberg" date_entered="2002-01-25" last_modified="2002-01-26 07:48:50" name="Simple expandable html menu demonstration" rating="3.00">
<description>A simple example on hard-coded expandable menus with a maximum of two levels. You could read the menu data from a file or from a database of course. HTML only. No JavaScript used.&#x0D;&#x0A;</description>
<code>&lt;?&#x0D;&#x0A;    // A simple example on hard-coded expandable menus&#x0D;&#x0A;    // with a maximum of two levels. You could read the&#x0D;&#x0A;    // menu data from a file or from a database of course.&#x0D;&#x0A;    //&#x0D;&#x0A;    // (C) 2002 Thomas Wolf&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&lt;font face=&quot;Verdana&quot; size=&quot;2&quot;&gt;&#x0D;&#x0A;&lt;?&#x0D;&#x0A;$menu = array&#x0D;&#x0A;(&#x0D;&#x0A;    &quot;menu1&quot; =&gt; array (&#x0D;&#x0A;         0&#x09;&#x09;=&gt; &quot;Name Of Menu 1&quot;,&#x0D;&#x0A;        &quot;Item 1&quot;&#x09;=&gt; &quot;link1-1&quot;,&#x0D;&#x0A;        &quot;Item 2&quot;&#x09;=&gt; &quot;link1-2&quot;,&#x0D;&#x0A;        &quot;Item 3&quot;&#x09;=&gt; &quot;link1-3&quot;,&#x0D;&#x0A;        &quot;Item 4&quot;&#x09;=&gt; &quot;link1-4&quot;,&#x0D;&#x0A;     ),&#x0D;&#x0A;    &quot;menu2&quot; =&gt; array (&#x0D;&#x0A;         0&#x09;&#x09;=&gt; &quot;Name Of Menu 2&quot;,&#x0D;&#x0A;        &quot;Item 1&quot;&#x09;=&gt; &quot;link2-1&quot;,&#x0D;&#x0A;        &quot;Item 2&quot;&#x09;=&gt; &quot;link2-2&quot;,&#x0D;&#x0A;        &quot;Item 3&quot;&#x09;=&gt; &quot;link2-3&quot;,&#x0D;&#x0A;        &quot;Item 4&quot;&#x09;=&gt; &quot;link2-4&quot;,&#x0D;&#x0A;     ),&#x0D;&#x0A;    &quot;menu3&quot; =&gt; array (&#x0D;&#x0A;         0&#x09;&#x09;=&gt; &quot;Name Of Menu 3&quot;,&#x0D;&#x0A;        &quot;Item 1&quot;&#x09;=&gt; &quot;link3-1&quot;,&#x0D;&#x0A;        &quot;Item 2&quot;&#x09;=&gt; &quot;link3-2&quot;,&#x0D;&#x0A;        &quot;Item 3&quot;&#x09;=&gt; &quot;link3-3&quot;,&#x0D;&#x0A;        &quot;Item 4&quot;&#x09;=&gt; &quot;link3-4&quot;,&#x0D;&#x0A;     ),&#x0D;&#x0A;    &quot;menu4&quot; =&gt; array (&#x0D;&#x0A;         0&#x09;&#x09;=&gt; &quot;Name Of Menu 4&quot;,&#x0D;&#x0A;        &quot;Item 1&quot;&#x09;=&gt; &quot;link4-1&quot;,&#x0D;&#x0A;        &quot;Item 2&quot;&#x09;=&gt; &quot;link4-2&quot;,&#x0D;&#x0A;        &quot;Item 3&quot;&#x09;=&gt; &quot;link4-3&quot;,&#x0D;&#x0A;        &quot;Item 4&quot;&#x09;=&gt; &quot;link4-4&quot;,&#x0D;&#x0A;     ),&#x0D;&#x0A;);&#x0D;&#x0A;$qs = $QUERY_STRING;&#x0D;&#x0A;&#x0D;&#x0A;while (list($name,$a)=each($menu))&#x0D;&#x0A;{&#x0D;&#x0A;    if (!@strstr($qs,&quot;$name;&quot;))&#x0D;&#x0A;    {&#x0D;&#x0A;        echo &quot;[+] &quot;;&#x0D;&#x0A;        echo &quot;&lt;a href=\&quot;$PHP_SELF?$qs$name;\&quot;&gt;&lt;b&gt;{$a[0]}&lt;/b&gt;&lt;/a&gt;&quot;;&#x0D;&#x0A;        echo &quot;&lt;br&gt;&lt;br&gt;&quot;;&#x0D;&#x0A;        continue;&#x0D;&#x0A;    }&#x0D;&#x0A;    $temp = str_replace(&quot;$name;&quot;,&quot;&quot;,$qs);&#x0D;&#x0A;    echo &quot;[-] &quot;;&#x0D;&#x0A;    echo &quot;&lt;a href=\&quot;$PHP_SELF?$temp\&quot;&gt;&lt;b&gt;{$a[0]}&lt;/b&gt;&lt;/a&gt;&quot;;&#x0D;&#x0A;    echo &quot;&lt;br&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;    next($a);&#x0D;&#x0A;    while (list($desc,$url)=each($a))&#x0D;&#x0A;    {&#x0D;&#x0A;        echo &quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &quot;;&#x0D;&#x0A;        echo &quot;&lt;a href=\&quot;$url\&quot;&gt;$desc&lt;/a&gt;&lt;br&gt;&quot;;&#x0D;&#x0A;    }&#x0D;&#x0A;    echo &quot;&lt;br&gt;&quot;;&#x0D;&#x0A;}&#x0D;&#x0A;?&gt;&#x0D;&#x0A;&lt;/font&gt;&#x0D;&#x0A;</code>
</snippet>
<snippet author="liyam" date_entered="2005-04-07" last_modified="2005-04-21 04:16:58" name="simple pagination using ODBC and MS Access," rating="0.00">
<description>For those of you who does&apos;nt know, pagination (in the Web world) is usually dividing a large list of items into several pages, and then providing a nifty link for it. You usually see pagination link displayed like this:&#x0D;&#x0A;&#x0D;&#x0A;PREV 1 2 3 4 5 NEXT</description>
<code>&lt;?php&#x0D;&#x0A;&#x0D;&#x0A;//connecting to the database using ODBC&#x0D;&#x0A;$db=odbc_connect($dsn,$user,$pass)or die(&quot;Error: Can&apos;t Connect to Database&quot;);&#x0D;&#x0A; &#x0D;&#x0A;// assigns a value how many rows we will get from each page&#x0D;&#x0A;$limit = 15;  &#x0D;&#x0A;&#x0D;&#x0A;/* assign variable with sql query of counting how many rows are there in the database.&#x0D;&#x0A;take note you should assign * with a table data name and table_name with table name*/&#x0D;&#x0A;$query_count    = &quot;SELECT COUNT(*) as value FROM table_name&quot;;&#x0D;&#x0A;&#x0D;&#x0A;//executes the sql statement to the database&#x0D;&#x0A;$result_count   = odbc_exec($db, $query_count); &#x0D;&#x0A;&#x0D;&#x0A;// get the result count from the database&#x0D;&#x0A;$totalrows  = odbc_fetch_object($result_count);   &#x0D;&#x0A;&#x0D;&#x0A;if(empty($page)){    // Checks if the $page variable is empty (not set)&#x0D;&#x0A;        $page = 1;      // If it is empty, we&apos;re on page 1&#x0D;&#x0A;    }&#x0D;&#x0A;&#x0D;&#x0A;//this will be the lowest limit&#x0D;&#x0A;$limitvalue = $page * $limit - ($limit);&#x0D;&#x0A;$limitnew = $limitvalue + $limit;&#x0D;&#x0A; // Ex: (2 * 25) - 25 = 25 &lt;- data starts at 25 &#x0D;&#x0A;$query = &quot;SELECT * FROM table_name where ID between $limitvalue and $limitnew ORDER BY ID ASC&quot;;&#x0D;&#x0A;&#x0D;&#x0A;//executes the sql statement to the database&#x0D;&#x0A;$result = odbc_exec($db, $query);&#x0D;&#x0A;&#x0D;&#x0A;echo &quot;&lt;table&gt;&lt;tr&gt;&lt;td&gt;Title1&lt;/td&gt;&#x0D;&#x0A;&#x09;&#x09;&#x09;  &lt;td&gt;Title2&lt;/td&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;// open loop to list down contents from the database &#x0D;&#x0A;while (($row = odbc_fetch_object($result))) {&#x0D;&#x0A;&#x0D;&#x0A;echo &quot;&lt;tr&gt;&lt;td&gt;$row-&gt;content_title1&lt;/td&gt;&#x0D;&#x0A;               &lt;td&gt;$row-&gt;content_title2&lt;/td&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;//close the loop&#x0D;&#x0A;} &#x0D;&#x0A;&#x0D;&#x0A;//now we close the table&#x0D;&#x0A;echo &quot;&lt;/table&gt;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;/*check if we are at page 1. if true, PREV will not be a link. if false, $page will be a link minus 1 page. */&#x0D;&#x0A;  if($page != 1){&#x0D;&#x0A;        $pageprev = $page -1;&#x0D;&#x0A;echo(&quot;&amp;nbsp;&lt;b&gt;&lt;a href=\&quot;$PHP_SELF?page=$pageprev\&quot;&gt;PREV&lt;/a&gt;&lt;/b&gt;&amp;nbsp;&quot;);&#x0D;&#x0A;    }else{&#x0D;&#x0A;        echo(&quot;&amp;nbsp;PREV&amp;nbsp;&quot;);&#x0D;&#x0A;    }&#x0D;&#x0A;&#x0D;&#x0A;/* $numofpages will be the quotient of the total rows divided by the limit value&#x0D;&#x0A;in this example lets assume that we have 47 rows in the database divided by 15 will result 3.13 */&#x0D;&#x0A;   $numofpages = $totalrows-&gt;value / $limit;&#x0D;&#x0A;&#x0D;&#x0A;/* now let us generate those page numbers*/&#x0D;&#x0A;    for($i = 1; $i &lt;= $numofpages; ++$i){&#x0D;&#x0A;&#x09;&#x09;if($i == $page){&#x0D;&#x0A;            echo(&quot;&amp;nbsp;[$i]&amp;nbsp;&quot;);  &#x0D;&#x0A;        }else{&#x0D;&#x0A;            echo(&quot;&amp;nbsp;&lt;b&gt;&lt;a href=\&quot;$PHP_SELF?page=$i\&quot;&gt;$i&lt;/a&gt;&lt;/b&gt;&amp;nbsp;&quot;);&#x0D;&#x0A;        }&#x0D;&#x0A;    }&#x0D;&#x0A;&#x0D;&#x0A;/* check if we have a remainder and print it at the end page list */&#x0D;&#x0A;    if(($totalrows-&gt;increm % $limit) != 0){&#x0D;&#x0A;&#x09;&#x09;if($i == $page){&#x0D;&#x0A;            echo(&quot;&amp;nbsp;[$i]&amp;nbsp;&quot;);&#x0D;&#x0A;        }else{&#x0D;&#x0A;            echo(&quot;&amp;nbsp;&lt;b&gt;&lt;a href=\&quot;$PHP_SELF?page=$i\&quot;&gt;$i&lt;/a&gt;&lt;/b&gt;&amp;nbsp;&quot;);&#x0D;&#x0A;        }&#x0D;&#x0A;    }&#x0D;&#x0A;&#x0D;&#x0A;/* finally we check the &quot;next&quot; link if we have a page to move on to, if yes we put it as a link adding another page. &#x0D;&#x0A;in this example assuming that we have $totalrows-&gt;value=47 &#x0D;&#x0A;this will check if (47 - (15 * 1) = 32) &gt; zero, results to true will give a link.*/&#x0D;&#x0A;if(($totalrows-&gt;value - ($limit * $page)) &gt; 0){&#x0D;&#x0A;         $pagenext = $page +1;&#x0D;&#x0A;         &#x0D;&#x0A;        echo(&quot;&amp;nbsp;&lt;b&gt;&lt;a href=\&quot;$PHP_SELF?page=$pagenext\&quot;&gt;NEXT&lt;/a&gt;&lt;/b&gt; &quot;);&#x0D;&#x0A;    }else{&#x0D;&#x0A;        echo(&quot;&amp;nbsp;NEXT&amp;nbsp;&quot;);&#x0D;&#x0A;    } &#x0D;&#x0A; &#x0D;&#x0A;// now let us free the resources&#x0D;&#x0A;odbc_free_result($result);&#x0D;&#x0A;&#x0D;&#x0A;?&gt;</code>
</snippet>
<snippet author="yaragn1" date_entered="2001-08-28" last_modified="2001-08-31 06:51:12" name="Spider-safe index.php/URL/decoding" rating="4.83">
<description>Spider-safe index.php/URL/decoding. See John Coggeshall&apos;s excellent example of this.</description>
<code>// extract variables from directory style GETs &#x0D;&#x0A;$res = explode(&quot;index.php/&quot;, $REQUEST_URI); &#x0D;&#x0A;If (count($res) &gt; 1) { &#x0D;&#x0A;    // THANK YOU YARAGN@YARAGN.CO.UK FOR THIS WONDERFUL CODE. CAN I BE YOUR FRIEND. &#x0D;&#x0A;    $rest = explode(&quot;?&quot;,$res[1]); &#x0D;&#x0A;    $vars = explode(&quot;/&quot;, $rest[0]); &#x0D;&#x0A;    FOR ($i=0; $i &lt; count($vars); $i++) { &#x0D;&#x0A;        If (substr($vars[$i],strlen($vars[$i])-2,2) &#x0D;&#x0A;== &quot;[]&quot;) { &#x0D;&#x0A;            $temp = substr($vars[$i],0,strlen($vars &#x0D;&#x0A;[$i])-2); &#x0D;&#x0A;            ${$temp}[] = $vars[$i+1]; &#x0D;&#x0A;        } Else { &#x0D;&#x0A;            If (isset($vars[$i+1])) ${$vars[$i]} = &#x0D;&#x0A;$vars[$i+1]; &#x0D;&#x0A;        } &#x0D;&#x0A;    $i++; &#x0D;&#x0A;} &#x0D;&#x0A;} </code>
</snippet>
<snippet author="atur" date_entered="2003-06-07" last_modified="2003-06-07 13:40:45" name="Tree of categories" rating="4.33">
<description>This code print out an hierarchical categories tree structure with indents of the kind ID, ID_PARENT, TITLE.</description>
<code>&lt;?php&#x0D;&#x0A;&#x0D;&#x0A; // Recusive tree function&#x0D;&#x0A; //&#x0D;&#x0A; function tree($id_parent = 0, $indent = 0)&#x0D;&#x0A;    {&#x0D;&#x0A;        global $g_tree, $ret_tree;&#x0D;&#x0A;        $tt = array();&#x0D;&#x0A;        $x = 0;&#x0D;&#x0A;        $loop = 0;&#x0D;&#x0A;&#x0D;&#x0A;        foreach($g_tree as $n)&#x0D;&#x0A;        {         &#x0D;&#x0A;            if( $n[&apos;id_parent&apos;] == $id_parent)&#x0D;&#x0A;            {&#x0D;&#x0A;                $tt[$x++] = $loop;  &#x0D;&#x0A;            }  &#x0D;&#x0A;            $loop++;&#x0D;&#x0A;        }&#x0D;&#x0A;        /*-- if there are some parent ids --*/&#x0D;&#x0A;        if( $x != 0){             &#x0D;&#x0A;            foreach($tt as $d)&#x0D;&#x0A;            {&#x0D;&#x0A;                $tmp = array();&#x0D;&#x0A;                &#x0D;&#x0A;                foreach($g_tree[$d] as $key =&gt; $value)&#x0D;&#x0A;                {                &#x0D;&#x0A;                    $tmp[$key] = $value; &#x0D;&#x0A;                }&#x0D;&#x0A;                $tmp[&apos;indent&apos;] = $indent;&#x0D;&#x0A;&#x0D;&#x0A;                $ret_tree[] = $tmp;&#x0D;&#x0A;                &#x0D;&#x0A;                tree($tmp[&apos;id&apos;], $indent+1);&#x0D;&#x0A;            }&#x0D;&#x0A;        }&#x0D;&#x0A;        else&#x0D;&#x0A;        {&#x0D;&#x0A;            return;&#x0D;&#x0A;        }&#x0D;&#x0A;    }&#x0D;&#x0A;&#x0D;&#x0A;// Example of how to use it&#x0D;&#x0A;//&#x0D;&#x0A;&#x0D;&#x0A;// This is your tree structure. It should be sorted by titles&#x0D;&#x0A;//&#x0D;&#x0A;$g_tree = array();&#x0D;&#x0A; &#x0D;&#x0A;$g_tree[]  = array(&#x0D;&#x0A;                    &apos;id&apos;        =&gt; 1,&#x0D;&#x0A;                    &apos;id_parent&apos; =&gt; 0,&#x0D;&#x0A;                    &apos;title&apos;     =&gt; &apos;Astronomy&apos;&#x0D;&#x0A;);   &#x0D;&#x0A;$g_tree[]  = array(&#x0D;&#x0A;                    &apos;id&apos;        =&gt; 2,&#x0D;&#x0A;                    &apos;id_parent&apos; =&gt; 1,&#x0D;&#x0A;                    &apos;title&apos;     =&gt; &apos;Radio-Astronomy&apos;&#x0D;&#x0A;); &#x0D;&#x0A;$g_tree[]  = array(&#x0D;&#x0A;                    &apos;id&apos;        =&gt; 3,&#x0D;&#x0A;                    &apos;id_parent&apos; =&gt; 2,&#x0D;&#x0A;                    &apos;title&apos;     =&gt; &apos;Radio-Observatories&apos;&#x0D;&#x0A;);   &#x0D;&#x0A;$g_tree[]  = array(&#x0D;&#x0A;                    &apos;id&apos;        =&gt; 4,&#x0D;&#x0A;                    &apos;id_parent&apos; =&gt; 0,&#x0D;&#x0A;                    &apos;title&apos;     =&gt; &apos;Physics&apos;&#x0D;&#x0A;);  &#x0D;&#x0A;$g_tree[]  = array(&#x0D;&#x0A;                    &apos;id&apos;        =&gt; 5,&#x0D;&#x0A;                    &apos;id_parent&apos; =&gt; 4,&#x0D;&#x0A;                    &apos;title&apos;     =&gt; &apos;Lasers&apos;&#x0D;&#x0A;);&#x0D;&#x0A;$g_tree[]  = array(&#x0D;&#x0A;                    &apos;id&apos;        =&gt; 6,&#x0D;&#x0A;                    &apos;id_parent&apos; =&gt; 4,&#x0D;&#x0A;                    &apos;title&apos;     =&gt; &apos;Photonics&apos;&#x0D;&#x0A;);&#x0D;&#x0A;  &#x0D;&#x0A;  &#x0D;&#x0A;// This the the return array with indents&#x0D;&#x0A;//&#x0D;&#x0A;$ret_tree = array();&#x0D;&#x0A; &#x0D;&#x0A;// __Recursive function call__&#x0D;&#x0A;// If you want to print out only&#x0D;&#x0A;// a subtree you have to modify the first value&#x0D;&#x0A;// of this function to the id of the subtree&#x0D;&#x0A;//&#x0D;&#x0A;tree(0,0);&#x0D;&#x0A; &#x0D;&#x0A;//Print the tree structure with indents&#x0D;&#x0A;//&#x0D;&#x0A;foreach($ret_tree as $cat)&#x0D;&#x0A;{&#x0D;&#x0A;    $indent = &apos;&apos;;&#x0D;&#x0A;    &#x0D;&#x0A;    for($i=0;$i&lt;$cat[&apos;indent&apos;];$i++)&#x0D;&#x0A;    {&#x0D;&#x0A;        $indent .= &apos;___&apos;;&#x0D;&#x0A;    }&#x0D;&#x0A;  &#x0D;&#x0A;    echo $indent.$cat[&apos;title&apos;].&apos;&lt;br&gt;&apos;;&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;?&gt;</code>
</snippet>
<snippet author="flinn" date_entered="2002-02-18" last_modified="2002-02-24 07:15:52" name="URHere" rating="4.00">
<description>Displays &quot;you are here&quot; information in text, and link form ralative to your path in the following format: &#x0D;&#x0A;Site &gt; Directory &gt; Sub Directory &gt; Page &#x0D;&#x0A;Currently truncates the .php file extension, and uses &amp;gt; seperators, but can be changed easily. This is BSD Licensed.</description>
<code>&lt;?php&#x0D;&#x0A;&#x0D;&#x0A;/*&#x0D;&#x0A;Copyright (c) 2000-2002, ActiveIntra.net&#x0D;&#x0A;All rights reserved.&#x0D;&#x0A;&#x0D;&#x0A;Redistribution and use in source and binary forms, with or without modification, are permitted provided &#x0D;&#x0A;that the following conditions are met:&#x0D;&#x0A;&#x0D;&#x0A;Redistributions of source code must retain the above copyright notice, this list of conditions and the &#x0D;&#x0A;following disclaimer.&#x0D;&#x0A; &#x0D;&#x0A;Redistributions in binary form must reproduce the above copyright notice, this list of conditions and &#x0D;&#x0A;the following disclaimer in the documentation and/or other materials provided with the distribution. &#x0D;&#x0A;&#x0D;&#x0A;Neither the name of the ActiveIntra.net nor the names of its contributors may be used to endorse or &#x0D;&#x0A;promote products derived from this software without specific prior written permission.  THIS SOFTWARE &#x0D;&#x0A;IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, &#x0D;&#x0A;INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR &#x0D;&#x0A;PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, &#x0D;&#x0A;INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, &#x0D;&#x0A;PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) &#x0D;&#x0A;HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT &#x0D;&#x0A;(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED &#x0D;&#x0A;OF THE POSSIBILITY OF SUCH DAMAGE.&#x0D;&#x0A;*/&#x0D;&#x0A; &#x0D;&#x0A; class URHere {&#x0D;&#x0A;     var $text = &quot;&quot;;&#x0D;&#x0A;     var $link = &quot;&quot;;&#x0D;&#x0A;&#x0D;&#x0A;  function Text($location) {&#x0D;&#x0A; &#x09;$path = explode(&quot;/&quot;, $location);&#x0D;&#x0A; &#x09;$c = 1;&#x0D;&#x0A; &#x09;while(list($key, $val) = each($path)) { &#x0D;&#x0A; &#x09;&#x09;if ($c &gt; 1) {&#x0D;&#x0A; &#x09;&#x09;&#x09;$this-&gt;text .= &quot; &gt; &quot;;&#x0D;&#x0A; &#x09;&#x09;}&#x0D;&#x0A; &#x09;&#x09;$this-&gt;text .= ucfirst(ereg_replace(&quot;\.php&quot;,&quot;&quot;,$val));&#x0D;&#x0A; &#x09;&#x09;$c++;&#x0D;&#x0A; &#x09;}&#x0D;&#x0A; &#x09;return $this-&gt;text;&#x0D;&#x0A;  }&#x0D;&#x0A;&#x0D;&#x0A;&#x0D;&#x0A;  function Link($location) {&#x0D;&#x0A; &#x09;$path = explode(&quot;/&quot;, $location);&#x0D;&#x0A; &#x09;$c = 1;&#x0D;&#x0A; &#x09;while(list($key, $val) = each($path)) { &#x0D;&#x0A; &#x09;&#x09;if ($c &gt; 1) {&#x0D;&#x0A; &#x09;&#x09;&#x09;$this-&gt;link .= &quot; &amp;gt; &quot;;&#x0D;&#x0A;&#x09;&#x09;&#x09;$link .= &quot;/$val&quot;;&#x09;&#x09; &#x09;&#x0D;&#x0A;&#x09;&#x09;&#x09;$this-&gt;link .= &apos;&lt;a href=&quot;&apos;.$link.&apos;&quot;&gt;&apos;. ucfirst(ereg_replace(&quot;\.php&quot;,&quot;&quot;,$val)) .&apos;&lt;/a&gt;&apos;;&#x0D;&#x0A; &#x09;&#x09;}&#x0D;&#x0A;&#x09;&#x09;$c++;&#x0D;&#x0A; &#x09;}&#x0D;&#x0A; &#x09;return $this-&gt;link;&#x0D;&#x0A;  }&#x0D;&#x0A;&#x0D;&#x0A; }&#x0D;&#x0A; &#x0D;&#x0A; ?&gt;</code>
</snippet>
<snippet author="atur" date_entered="2003-06-07" last_modified="2003-09-04 00:12:27" name="Word link navigation" rating="0.00">
<description>Build from a word list, html links from the first letter of this words.</description>
<code>&lt;?php&#x0D;&#x0A;&#x0D;&#x0A;// Build letter link function&#x0D;&#x0A;//&#x0D;&#x0A;function &amp; build_link(&amp;$word)&#x0D;&#x0A;{&#x0D;&#x0A;    static $prev_letter;&#x0D;&#x0A;&#x0D;&#x0A;    // Extract the first letter&#x0D;&#x0A;    $first_letter = substr($word,0,1);&#x0D;&#x0A;&#x0D;&#x0A;    // Build a link for this letter if this letter wasn&apos;t extracted before, &#x0D;&#x0A;    //&#x0D;&#x0A;    if($prev_letter != $first_letter)&#x0D;&#x0A;    {&#x0D;&#x0A;       $prev_letter = $first_letter;&#x0D;&#x0A;       &#x0D;&#x0A;       // Modify the url to your needs&#x0D;&#x0A;       //&#x0D;&#x0A;       return &apos; [&lt;a href=&quot;letter_&apos;.$prev_letter.&apos;.htm&quot;&gt;&apos;.strtoupper($prev_letter).&apos;&lt;/a&gt;] &apos;;&#x0D;&#x0A;    }&#x0D;&#x0A;    else&#x0D;&#x0A;    {&#x0D;&#x0A;       return false;&#x0D;&#x0A;    }&#x0D;&#x0A;}&#x0D;&#x0A;&#x0D;&#x0A;// The word list array.&#x0D;&#x0A;//&#x0D;&#x0A;$word_list = array(&#x0D;&#x0A;    &apos;affect&apos;,    &#x0D;&#x0A;    &apos;courtesy&apos;,&#x0D;&#x0A;    &apos;cult&apos;,    &#x0D;&#x0A;    &apos;despair&apos;,&#x0D;&#x0A;    &apos;feudal&apos;,&#x0D;&#x0A;    &apos;file&apos;,&#x0D;&#x0A;    &apos;analogy&apos;,&#x0D;&#x0A;    &apos;mass&apos;,&#x0D;&#x0A;    &apos;delay&apos;,&#x0D;&#x0A;    &apos;patrol&apos;);&#x0D;&#x0A;&#x0D;&#x0A;// Sort the word list. This is necessairy to get unique links&#x0D;&#x0A;//&#x0D;&#x0A;sort($word_list);&#x0D;&#x0A;&#x0D;&#x0A;// Build letters links of the word list&#x0D;&#x0A;//&#x0D;&#x0A;foreach($word_list as $word)&#x0D;&#x0A;{&#x0D;&#x0A;    $link = build_link($word);&#x0D;&#x0A;    &#x0D;&#x0A;    if($link)&#x0D;&#x0A;    {&#x0D;&#x0A;        echo $link;&#x0D;&#x0A;    }&#x0D;&#x0A;}&#x0D;&#x0A;?&gt;</code>
</snippet>
</category>